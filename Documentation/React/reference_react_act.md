---
url: https://react.dev/reference/react/act
scraped_at: 2025-05-25T08:49:30.032313
title: act – React
---

Join us for React Conf on Oct 7-8.
[Learn more.](https://conf.react.dev/)
[![logo by @sawaratsuki1004](https://react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=128&q=75)](https://react.dev/)
[React](https://react.dev/)
[v19.1](https://react.dev/versions)
Search`⌘``Ctrl``K`
[Learn](https://react.dev/learn)
[Reference](https://react.dev/reference/react)
[Community](https://react.dev/community)
[Blog](https://react.dev/blog)
[](https://react.dev/community/translations)
[](https://github.com/facebook/react/releases)
### react@19.1
  * [Overview ](https://react.dev/reference/react "Overview")
  * [Hooks ](https://react.dev/reference/react/hooks "Hooks")
    * [useActionState ](https://react.dev/reference/react/useActionState "useActionState")
    * [useCallback ](https://react.dev/reference/react/useCallback "useCallback")
    * [useContext ](https://react.dev/reference/react/useContext "useContext")
    * [useDebugValue ](https://react.dev/reference/react/useDebugValue "useDebugValue")
    * [useDeferredValue ](https://react.dev/reference/react/useDeferredValue "useDeferredValue")
    * [useEffect ](https://react.dev/reference/react/useEffect "useEffect")
    * [useId ](https://react.dev/reference/react/useId "useId")
    * [useImperativeHandle ](https://react.dev/reference/react/useImperativeHandle "useImperativeHandle")
    * [useInsertionEffect ](https://react.dev/reference/react/useInsertionEffect "useInsertionEffect")
    * [useLayoutEffect ](https://react.dev/reference/react/useLayoutEffect "useLayoutEffect")
    * [useMemo ](https://react.dev/reference/react/useMemo "useMemo")
    * [useOptimistic ](https://react.dev/reference/react/useOptimistic "useOptimistic")
    * [useReducer ](https://react.dev/reference/react/useReducer "useReducer")
    * [useRef ](https://react.dev/reference/react/useRef "useRef")
    * [useState ](https://react.dev/reference/react/useState "useState")
    * [useSyncExternalStore ](https://react.dev/reference/react/useSyncExternalStore "useSyncExternalStore")
    * [useTransition ](https://react.dev/reference/react/useTransition "useTransition")
  * [Components ](https://react.dev/reference/react/components "Components")
    * [<Fragment> (<>) ](https://react.dev/reference/react/Fragment "<Fragment> \(<>\)")
    * [<Profiler> ](https://react.dev/reference/react/Profiler "<Profiler>")
    * [<StrictMode> ](https://react.dev/reference/react/StrictMode "<StrictMode>")
    * [<Suspense> ](https://react.dev/reference/react/Suspense "<Suspense>")
    * [<Activity> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/Activity "<Activity>")
    * [<ViewTransition> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/ViewTransition "<ViewTransition>")
  * [APIs ](https://react.dev/reference/react/apis "APIs")
    * [act ](https://react.dev/reference/react/act "act")
    * [cache ](https://react.dev/reference/react/cache "cache")
    * [captureOwnerStack ](https://react.dev/reference/react/captureOwnerStack "captureOwnerStack")
    * [createContext ](https://react.dev/reference/react/createContext "createContext")
    * [lazy ](https://react.dev/reference/react/lazy "lazy")
    * [memo ](https://react.dev/reference/react/memo "memo")
    * [startTransition ](https://react.dev/reference/react/startTransition "startTransition")
    * [use ](https://react.dev/reference/react/use "use")
    * [experimental_taintObjectReference  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintObjectReference "experimental_taintObjectReference")
    * [experimental_taintUniqueValue  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintUniqueValue "experimental_taintUniqueValue")
    * [unstable_addTransitionType  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/addTransitionType "unstable_addTransitionType")
### react-dom@19.1
  * [Hooks ](https://react.dev/reference/react-dom/hooks "Hooks")
    * [useFormStatus ](https://react.dev/reference/react-dom/hooks/useFormStatus "useFormStatus")
  * [Components ](https://react.dev/reference/react-dom/components "Components")
    * [Common (e.g. <div>) ](https://react.dev/reference/react-dom/components/common "Common \(e.g. <div>\)")
    * [<form> ](https://react.dev/reference/react-dom/components/form "<form>")
    * [<input> ](https://react.dev/reference/react-dom/components/input "<input>")
    * [<option> ](https://react.dev/reference/react-dom/components/option "<option>")
    * [<progress> ](https://react.dev/reference/react-dom/components/progress "<progress>")
    * [<select> ](https://react.dev/reference/react-dom/components/select "<select>")
    * [<textarea> ](https://react.dev/reference/react-dom/components/textarea "<textarea>")
    * [<link> ](https://react.dev/reference/react-dom/components/link "<link>")
    * [<meta> ](https://react.dev/reference/react-dom/components/meta "<meta>")
    * [<script> ](https://react.dev/reference/react-dom/components/script "<script>")
    * [<style> ](https://react.dev/reference/react-dom/components/style "<style>")
    * [<title> ](https://react.dev/reference/react-dom/components/title "<title>")
  * [APIs ](https://react.dev/reference/react-dom "APIs")
    * [createPortal ](https://react.dev/reference/react-dom/createPortal "createPortal")
    * [flushSync ](https://react.dev/reference/react-dom/flushSync "flushSync")
    * [preconnect ](https://react.dev/reference/react-dom/preconnect "preconnect")
    * [prefetchDNS ](https://react.dev/reference/react-dom/prefetchDNS "prefetchDNS")
    * [preinit ](https://react.dev/reference/react-dom/preinit "preinit")
    * [preinitModule ](https://react.dev/reference/react-dom/preinitModule "preinitModule")
    * [preload ](https://react.dev/reference/react-dom/preload "preload")
    * [preloadModule ](https://react.dev/reference/react-dom/preloadModule "preloadModule")
  * [Client APIs ](https://react.dev/reference/react-dom/client "Client APIs")
    * [createRoot ](https://react.dev/reference/react-dom/client/createRoot "createRoot")
    * [hydrateRoot ](https://react.dev/reference/react-dom/client/hydrateRoot "hydrateRoot")
  * [Server APIs ](https://react.dev/reference/react-dom/server "Server APIs")
    * [renderToPipeableStream ](https://react.dev/reference/react-dom/server/renderToPipeableStream "renderToPipeableStream")
    * [renderToReadableStream ](https://react.dev/reference/react-dom/server/renderToReadableStream "renderToReadableStream")
    * [renderToStaticMarkup ](https://react.dev/reference/react-dom/server/renderToStaticMarkup "renderToStaticMarkup")
    * [renderToString ](https://react.dev/reference/react-dom/server/renderToString "renderToString")
  * [Static APIs ](https://react.dev/reference/react-dom/static "Static APIs")
    * [prerender ](https://react.dev/reference/react-dom/static/prerender "prerender")
    * [prerenderToNodeStream ](https://react.dev/reference/react-dom/static/prerenderToNodeStream "prerenderToNodeStream")
### Rules of React
  * [Overview ](https://react.dev/reference/rules "Overview")
    * [Components and Hooks must be pure ](https://react.dev/reference/rules/components-and-hooks-must-be-pure "Components and Hooks must be pure")
    * [React calls Components and Hooks ](https://react.dev/reference/rules/react-calls-components-and-hooks "React calls Components and Hooks")
    * [Rules of Hooks ](https://react.dev/reference/rules/rules-of-hooks "Rules of Hooks")
### React Server Components
  * [Server Components ](https://react.dev/reference/rsc/server-components "Server Components")
  * [Server Functions ](https://react.dev/reference/rsc/server-functions "Server Functions")
  * [Directives ](https://react.dev/reference/rsc/directives "Directives")
    * ['use client' ](https://react.dev/reference/rsc/use-client "'use client'")
    * ['use server' ](https://react.dev/reference/rsc/use-server "'use server'")
### Legacy APIs
  * [Legacy React APIs ](https://react.dev/reference/react/legacy "Legacy React APIs")
    * [Children ](https://react.dev/reference/react/Children "Children")
    * [cloneElement ](https://react.dev/reference/react/cloneElement "cloneElement")
    * [Component ](https://react.dev/reference/react/Component "Component")
    * [createElement ](https://react.dev/reference/react/createElement "createElement")
    * [createRef ](https://react.dev/reference/react/createRef "createRef")
    * [forwardRef ](https://react.dev/reference/react/forwardRef "forwardRef")
    * [isValidElement ](https://react.dev/reference/react/isValidElement "isValidElement")
    * [PureComponent ](https://react.dev/reference/react/PureComponent "PureComponent")


Is this page useful?
[API Reference](https://react.dev/reference/react)
[APIs](https://react.dev/reference/react/apis)
# act[](https://react.dev/reference/react/act#undefined "Link for this heading")
`act` is a test helper to apply pending React updates before making assertions.
```

await act(async actFn)

```

To prepare a component for assertions, wrap the code rendering it and performing updates inside an `await act()` call. This makes your test run closer to how React works in the browser.
### Note
You might find using `act()` directly a bit too verbose. To avoid some of the boilerplate, you could use a library like [React Testing Library](https://testing-library.com/docs/react-testing-library/intro), whose helpers are wrapped with `act()`.
  * [Reference ](https://react.dev/reference/react/act#reference)
    * [`await act(async actFn)` ](https://react.dev/reference/react/act#await-act-async-actfn)
  * [Usage ](https://react.dev/reference/react/act#usage)
    * [Rendering components in tests ](https://react.dev/reference/react/act#rendering-components-in-tests)
    * [Dispatching events in tests ](https://react.dev/reference/react/act#dispatching-events-in-tests)
  * [Troubleshooting ](https://react.dev/reference/react/act#troubleshooting)
    * [I’m getting an error: “The current testing environment is not configured to support act”(…)” ](https://react.dev/reference/react/act#error-the-current-testing-environment-is-not-configured-to-support-act)


## Reference [](https://react.dev/reference/react/act#reference "Link for Reference ")
### `await act(async actFn)` [](https://react.dev/reference/react/act#await-act-async-actfn "Link for this heading")
When writing UI tests, tasks like rendering, user events, or data fetching can be considered as “units” of interaction with a user interface. React provides a helper called `act()` that makes sure all updates related to these “units” have been processed and applied to the DOM before you make any assertions.
The name `act` comes from the [Arrange-Act-Assert](https://wiki.c2.com/?ArrangeActAssert) pattern.
```

it ('renders with button disabled', async () => {
 await act(async () => {
  root.render(<TestComponent />)
 });
 expect(container.querySelector('button')).toBeDisabled();
});

```

### Note
We recommend using `act` with `await` and an `async` function. Although the sync version works in many cases, it doesn’t work in all cases and due to the way React schedules updates internally, it’s difficult to predict when you can use the sync version.
We will deprecate and remove the sync version in the future.
#### Parameters [](https://react.dev/reference/react/act#parameters "Link for Parameters ")
  * `async actFn`: An async function wrapping renders or interactions for components being tested. Any updates triggered within the `actFn`, are added to an internal act queue, which are then flushed together to process and apply any changes to the DOM. Since it is async, React will also run any code that crosses an async boundary, and flush any updates scheduled.


#### Returns [](https://react.dev/reference/react/act#returns "Link for Returns ")
`act` does not return anything.
## Usage [](https://react.dev/reference/react/act#usage "Link for Usage ")
When testing a component, you can use `act` to make assertions about its output.
For example, let’s say we have this `Counter` component, the usage examples below show how to test it:
```

function Counter() {
 const [count, setCount] = useState(0);
 const handleClick = () => {
  setCount(prev => prev + 1);
 }
 useEffect(() => {
  document.title = `You clicked ${count} times`;
 }, [count]);
 return (
  <div>
   <p>You clicked {count} times</p>
   <button onClick={handleClick}>
    Click me
   </button>
  </div>
 )
}

```

### Rendering components in tests [](https://react.dev/reference/react/act#rendering-components-in-tests "Link for Rendering components in tests ")
To test the render output of a component, wrap the render inside `act()`:
```

import {act} from 'react';
import ReactDOMClient from 'react-dom/client';
import Counter from './Counter';
it('can render and update a counter', async () => {
 container = document.createElement('div');
 document.body.appendChild(container);
 // ✅ Render the component inside act().
 await act(() => {
  ReactDOMClient.createRoot(container).render(<Counter />);
 });
 const button = container.querySelector('button');
 const label = container.querySelector('p');
 expect(label.textContent).toBe('You clicked 0 times');
 expect(document.title).toBe('You clicked 0 times');
});

```

Here, we create a container, append it to the document, and render the `Counter` component inside `act()`. This ensures that the component is rendered and its effects are applied before making assertions.
Using `act` ensures that all updates have been applied before we make assertions.
### Dispatching events in tests [](https://react.dev/reference/react/act#dispatching-events-in-tests "Link for Dispatching events in tests ")
To test events, wrap the event dispatch inside `act()`:
```

import {act} from 'react';
import ReactDOMClient from 'react-dom/client';
import Counter from './Counter';
it.only('can render and update a counter', async () => {
 const container = document.createElement('div');
 document.body.appendChild(container);
 await act( async () => {
  ReactDOMClient.createRoot(container).render(<Counter />);
 });
 // ✅ Dispatch the event inside act().
 await act(async () => {
  button.dispatchEvent(new MouseEvent('click', { bubbles: true }));
 });
 const button = container.querySelector('button');
 const label = container.querySelector('p');
 expect(label.textContent).toBe('You clicked 1 times');
 expect(document.title).toBe('You clicked 1 times');
});

```

Here, we render the component with `act`, and then dispatch the event inside another `act()`. This ensures that all updates from the event are applied before making assertions.
### Pitfall
Don’t forget that dispatching DOM events only works when the DOM container is added to the document. You can use a library like [React Testing Library](https://testing-library.com/docs/react-testing-library/intro) to reduce the boilerplate code.
## Troubleshooting [](https://react.dev/reference/react/act#troubleshooting "Link for Troubleshooting ")
### I’m getting an error: “The current testing environment is not configured to support act”(…)” [](https://react.dev/reference/react/act#error-the-current-testing-environment-is-not-configured-to-support-act "Link for I’m getting an error: “The current testing environment is not configured to support act”\(…\)” ")
Using `act` requires setting `global.IS_REACT_ACT_ENVIRONMENT=true` in your test environment. This is to ensure that `act` is only used in the correct environment.
If you don’t set the global, you will see an error like this:
Console
Warning: The current testing environment is not configured to support act(…)
To fix, add this to your global setup file for React tests:
```

global.IS_REACT_ACT_ENVIRONMENT=true

```

### Note
In testing frameworks like [React Testing Library](https://testing-library.com/docs/react-testing-library/intro), `IS_REACT_ACT_ENVIRONMENT` is already set for you.
[PreviousAPIs](https://react.dev/reference/react/apis)[Nextcache](https://react.dev/reference/react/cache)
[](https://opensource.fb.com/)
Copyright © Meta Platforms, Inc
no uwu plz
uwu?
Logo by[@sawaratsuki1004](https://twitter.com/sawaratsuki1004)
[Learn React](https://react.dev/learn)
[Quick Start](https://react.dev/learn)
[Installation](https://react.dev/learn/installation)
[Describing the UI](https://react.dev/learn/describing-the-ui)
[Adding Interactivity](https://react.dev/learn/adding-interactivity)
[Managing State](https://react.dev/learn/managing-state)
[Escape Hatches](https://react.dev/learn/escape-hatches)
[API Reference](https://react.dev/reference/react)
[React APIs](https://react.dev/reference/react)
[React DOM APIs](https://react.dev/reference/react-dom)
[Community](https://react.dev/community)
[Code of Conduct](https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md)
[Meet the Team](https://react.dev/community/team)
[Docs Contributors](https://react.dev/community/docs-contributors)
[Acknowledgements](https://react.dev/community/acknowledgements)
More
[Blog](https://react.dev/blog)
[React Native](https://reactnative.dev/)
[Privacy](https://opensource.facebook.com/legal/privacy)
[Terms](https://opensource.fb.com/legal/terms/)
[](https://www.facebook.com/react)[](https://twitter.com/reactjs)[](https://bsky.app/profile/react.dev)[](https://github.com/facebook/react)
## On this page
  * [Overview](https://react.dev/reference/react/act)
  * [Reference ](https://react.dev/reference/react/act#reference)
  * [`await act(async actFn)` ](https://react.dev/reference/react/act#await-act-async-actfn)
  * [Usage ](https://react.dev/reference/react/act#usage)
  * [Rendering components in tests ](https://react.dev/reference/react/act#rendering-components-in-tests)
  * [Dispatching events in tests ](https://react.dev/reference/react/act#dispatching-events-in-tests)
  * [Troubleshooting ](https://react.dev/reference/react/act#troubleshooting)
  * [I’m getting an error: “The current testing environment is not configured to support act”(…)” ](https://react.dev/reference/react/act#error-the-current-testing-environment-is-not-configured-to-support-act)



