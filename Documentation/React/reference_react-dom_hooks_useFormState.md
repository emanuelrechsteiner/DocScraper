---
url: https://react.dev/reference/react-dom/hooks/useFormState
scraped_at: 2025-05-25T08:35:22.252639
title: useActionState – React
---

Join us for React Conf on Oct 7-8.
[Learn more.](https://conf.react.dev/)
[![logo by @sawaratsuki1004](https://react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=128&q=75)](https://react.dev/)
[React](https://react.dev/)
[v19.1](https://react.dev/versions)
Search`⌘``Ctrl``K`
[Learn](https://react.dev/learn)
[Reference](https://react.dev/reference/react)
[Community](https://react.dev/community)
[Blog](https://react.dev/blog)
[](https://react.dev/community/translations)
[](https://github.com/facebook/react/releases)
### react@19.1
  * [Overview ](https://react.dev/reference/react "Overview")
  * [Hooks ](https://react.dev/reference/react/hooks "Hooks")
    * [useActionState ](https://react.dev/reference/react/useActionState "useActionState")
    * [useCallback ](https://react.dev/reference/react/useCallback "useCallback")
    * [useContext ](https://react.dev/reference/react/useContext "useContext")
    * [useDebugValue ](https://react.dev/reference/react/useDebugValue "useDebugValue")
    * [useDeferredValue ](https://react.dev/reference/react/useDeferredValue "useDeferredValue")
    * [useEffect ](https://react.dev/reference/react/useEffect "useEffect")
    * [useId ](https://react.dev/reference/react/useId "useId")
    * [useImperativeHandle ](https://react.dev/reference/react/useImperativeHandle "useImperativeHandle")
    * [useInsertionEffect ](https://react.dev/reference/react/useInsertionEffect "useInsertionEffect")
    * [useLayoutEffect ](https://react.dev/reference/react/useLayoutEffect "useLayoutEffect")
    * [useMemo ](https://react.dev/reference/react/useMemo "useMemo")
    * [useOptimistic ](https://react.dev/reference/react/useOptimistic "useOptimistic")
    * [useReducer ](https://react.dev/reference/react/useReducer "useReducer")
    * [useRef ](https://react.dev/reference/react/useRef "useRef")
    * [useState ](https://react.dev/reference/react/useState "useState")
    * [useSyncExternalStore ](https://react.dev/reference/react/useSyncExternalStore "useSyncExternalStore")
    * [useTransition ](https://react.dev/reference/react/useTransition "useTransition")
  * [Components ](https://react.dev/reference/react/components "Components")
    * [<Fragment> (<>) ](https://react.dev/reference/react/Fragment "<Fragment> \(<>\)")
    * [<Profiler> ](https://react.dev/reference/react/Profiler "<Profiler>")
    * [<StrictMode> ](https://react.dev/reference/react/StrictMode "<StrictMode>")
    * [<Suspense> ](https://react.dev/reference/react/Suspense "<Suspense>")
    * [<Activity> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/Activity "<Activity>")
    * [<ViewTransition> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/ViewTransition "<ViewTransition>")
  * [APIs ](https://react.dev/reference/react/apis "APIs")
    * [act ](https://react.dev/reference/react/act "act")
    * [cache ](https://react.dev/reference/react/cache "cache")
    * [captureOwnerStack ](https://react.dev/reference/react/captureOwnerStack "captureOwnerStack")
    * [createContext ](https://react.dev/reference/react/createContext "createContext")
    * [lazy ](https://react.dev/reference/react/lazy "lazy")
    * [memo ](https://react.dev/reference/react/memo "memo")
    * [startTransition ](https://react.dev/reference/react/startTransition "startTransition")
    * [use ](https://react.dev/reference/react/use "use")
    * [experimental_taintObjectReference  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintObjectReference "experimental_taintObjectReference")
    * [experimental_taintUniqueValue  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintUniqueValue "experimental_taintUniqueValue")
    * [unstable_addTransitionType  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/addTransitionType "unstable_addTransitionType")
### react-dom@19.1
  * [Hooks ](https://react.dev/reference/react-dom/hooks "Hooks")
    * [useFormStatus ](https://react.dev/reference/react-dom/hooks/useFormStatus "useFormStatus")
  * [Components ](https://react.dev/reference/react-dom/components "Components")
    * [Common (e.g. <div>) ](https://react.dev/reference/react-dom/components/common "Common \(e.g. <div>\)")
    * [<form> ](https://react.dev/reference/react-dom/components/form "<form>")
    * [<input> ](https://react.dev/reference/react-dom/components/input "<input>")
    * [<option> ](https://react.dev/reference/react-dom/components/option "<option>")
    * [<progress> ](https://react.dev/reference/react-dom/components/progress "<progress>")
    * [<select> ](https://react.dev/reference/react-dom/components/select "<select>")
    * [<textarea> ](https://react.dev/reference/react-dom/components/textarea "<textarea>")
    * [<link> ](https://react.dev/reference/react-dom/components/link "<link>")
    * [<meta> ](https://react.dev/reference/react-dom/components/meta "<meta>")
    * [<script> ](https://react.dev/reference/react-dom/components/script "<script>")
    * [<style> ](https://react.dev/reference/react-dom/components/style "<style>")
    * [<title> ](https://react.dev/reference/react-dom/components/title "<title>")
  * [APIs ](https://react.dev/reference/react-dom "APIs")
    * [createPortal ](https://react.dev/reference/react-dom/createPortal "createPortal")
    * [flushSync ](https://react.dev/reference/react-dom/flushSync "flushSync")
    * [preconnect ](https://react.dev/reference/react-dom/preconnect "preconnect")
    * [prefetchDNS ](https://react.dev/reference/react-dom/prefetchDNS "prefetchDNS")
    * [preinit ](https://react.dev/reference/react-dom/preinit "preinit")
    * [preinitModule ](https://react.dev/reference/react-dom/preinitModule "preinitModule")
    * [preload ](https://react.dev/reference/react-dom/preload "preload")
    * [preloadModule ](https://react.dev/reference/react-dom/preloadModule "preloadModule")
  * [Client APIs ](https://react.dev/reference/react-dom/client "Client APIs")
    * [createRoot ](https://react.dev/reference/react-dom/client/createRoot "createRoot")
    * [hydrateRoot ](https://react.dev/reference/react-dom/client/hydrateRoot "hydrateRoot")
  * [Server APIs ](https://react.dev/reference/react-dom/server "Server APIs")
    * [renderToPipeableStream ](https://react.dev/reference/react-dom/server/renderToPipeableStream "renderToPipeableStream")
    * [renderToReadableStream ](https://react.dev/reference/react-dom/server/renderToReadableStream "renderToReadableStream")
    * [renderToStaticMarkup ](https://react.dev/reference/react-dom/server/renderToStaticMarkup "renderToStaticMarkup")
    * [renderToString ](https://react.dev/reference/react-dom/server/renderToString "renderToString")
  * [Static APIs ](https://react.dev/reference/react-dom/static "Static APIs")
    * [prerender ](https://react.dev/reference/react-dom/static/prerender "prerender")
    * [prerenderToNodeStream ](https://react.dev/reference/react-dom/static/prerenderToNodeStream "prerenderToNodeStream")
### Rules of React
  * [Overview ](https://react.dev/reference/rules "Overview")
    * [Components and Hooks must be pure ](https://react.dev/reference/rules/components-and-hooks-must-be-pure "Components and Hooks must be pure")
    * [React calls Components and Hooks ](https://react.dev/reference/rules/react-calls-components-and-hooks "React calls Components and Hooks")
    * [Rules of Hooks ](https://react.dev/reference/rules/rules-of-hooks "Rules of Hooks")
### React Server Components
  * [Server Components ](https://react.dev/reference/rsc/server-components "Server Components")
  * [Server Functions ](https://react.dev/reference/rsc/server-functions "Server Functions")
  * [Directives ](https://react.dev/reference/rsc/directives "Directives")
    * ['use client' ](https://react.dev/reference/rsc/use-client "'use client'")
    * ['use server' ](https://react.dev/reference/rsc/use-server "'use server'")
### Legacy APIs
  * [Legacy React APIs ](https://react.dev/reference/react/legacy "Legacy React APIs")
    * [Children ](https://react.dev/reference/react/Children "Children")
    * [cloneElement ](https://react.dev/reference/react/cloneElement "cloneElement")
    * [Component ](https://react.dev/reference/react/Component "Component")
    * [createElement ](https://react.dev/reference/react/createElement "createElement")
    * [createRef ](https://react.dev/reference/react/createRef "createRef")
    * [forwardRef ](https://react.dev/reference/react/forwardRef "forwardRef")
    * [isValidElement ](https://react.dev/reference/react/isValidElement "isValidElement")
    * [PureComponent ](https://react.dev/reference/react/PureComponent "PureComponent")


Is this page useful?
[API Reference](https://react.dev/reference/react)
[Hooks](https://react.dev/reference/react/hooks)
# useActionState[](https://react.dev/reference/react/useActionState#undefined "Link for this heading")
`useActionState` is a Hook that allows you to update state based on the result of a form action.
```

const [state, formAction, isPending] = useActionState(fn, initialState, permalink?);

```

### Note
In earlier React Canary versions, this API was part of React DOM and called `useFormState`.
  * [Reference ](https://react.dev/reference/react/useActionState#reference)
    * [`useActionState(action, initialState, permalink?)` ](https://react.dev/reference/react/useActionState#useactionstate)
  * [Usage ](https://react.dev/reference/react/useActionState#usage)
    * [Using information returned by a form action ](https://react.dev/reference/react/useActionState#using-information-returned-by-a-form-action)
  * [Troubleshooting ](https://react.dev/reference/react/useActionState#troubleshooting)
    * [My action can no longer read the submitted form data ](https://react.dev/reference/react/useActionState#my-action-can-no-longer-read-the-submitted-form-data)


## Reference [](https://react.dev/reference/react/useActionState#reference "Link for Reference ")
### `useActionState(action, initialState, permalink?)` [](https://react.dev/reference/react/useActionState#useactionstate "Link for this heading")
Call `useActionState` at the top level of your component to create component state that is updated [when a form action is invoked](https://react.dev/reference/react-dom/components/form). You pass `useActionState` an existing form action function as well as an initial state, and it returns a new action that you use in your form, along with the latest form state and whether the Action is still pending. The latest form state is also passed to the function that you provided.
```

import { useActionState } from "react";
async function increment(previousState, formData) {
 return previousState + 1;
}
function StatefulForm({}) {
 const [state, formAction] = useActionState(increment, 0);
 return (
  <form>
   {state}
   <button formAction={formAction}>Increment</button>
  </form>
 )
}

```

The form state is the value returned by the action when the form was last submitted. If the form has not yet been submitted, it is the initial state that you pass.
If used with a Server Function, `useActionState` allows the server’s response from submitting the form to be shown even before hydration has completed.
[See more examples below.](https://react.dev/reference/react/useActionState#usage)
#### Parameters [](https://react.dev/reference/react/useActionState#parameters "Link for Parameters ")
  * `fn`: The function to be called when the form is submitted or button pressed. When the function is called, it will receive the previous state of the form (initially the `initialState` that you pass, subsequently its previous return value) as its initial argument, followed by the arguments that a form action normally receives.
  * `initialState`: The value you want the state to be initially. It can be any serializable value. This argument is ignored after the action is first invoked.
  * **optional** `permalink`: A string containing the unique page URL that this form modifies. For use on pages with dynamic content (eg: feeds) in conjunction with progressive enhancement: if `fn` is a [server function](https://react.dev/reference/rsc/server-functions) and the form is submitted before the JavaScript bundle loads, the browser will navigate to the specified permalink URL, rather than the current page’s URL. Ensure that the same form component is rendered on the destination page (including the same action `fn` and `permalink`) so that React knows how to pass the state through. Once the form has been hydrated, this parameter has no effect.


#### Returns [](https://react.dev/reference/react/useActionState#returns "Link for Returns ")
`useActionState` returns an array with the following values:
  1. The current state. During the first render, it will match the `initialState` you have passed. After the action is invoked, it will match the value returned by the action.
  2. A new action that you can pass as the `action` prop to your `form` component or `formAction` prop to any `button` component within the form. The action can also be called manually within [`startTransition`](https://react.dev/reference/react/startTransition).
  3. The `isPending` flag that tells you whether there is a pending Transition.


#### Caveats [](https://react.dev/reference/react/useActionState#caveats "Link for Caveats ")
  * When used with a framework that supports React Server Components, `useActionState` lets you make forms interactive before JavaScript has executed on the client. When used without Server Components, it is equivalent to component local state.
  * The function passed to `useActionState` receives an extra argument, the previous or initial state, as its first argument. This makes its signature different than if it were used directly as a form action without using `useActionState`.


## Usage [](https://react.dev/reference/react/useActionState#usage "Link for Usage ")
### Using information returned by a form action [](https://react.dev/reference/react/useActionState#using-information-returned-by-a-form-action "Link for Using information returned by a form action ")
Call `useActionState` at the top level of your component to access the return value of an action from the last time a form was submitted.
```

import { useActionState } from 'react';
import { action } from './actions.js';
function MyComponent() {
 const [state, formAction] = useActionState(action, null);
 // ...
 return (
  <form action={formAction}>
   {/* ... */}
  </form>
 );
}

```

`useActionState` returns an array with the following items:
  1. The current state of the form, which is initially set to the initial state you provided, and after the form is submitted is set to the return value of the action you provided.
  2. A new action that you pass to `<form>` as its `action` prop or call manually within `startTransition`.
  3. A pending state that you can utilise while your action is processing.


When the form is submitted, the action function that you provided will be called. Its return value will become the new current state of the form.
The action that you provide will also receive a new first argument, namely the current state of the form. The first time the form is submitted, this will be the initial state you provided, while with subsequent submissions, it will be the return value from the last time the action was called. The rest of the arguments are the same as if `useActionState` had not been used.
```

function action(currentState, formData) {
 // ...
 return 'next state';
}

```

#### Display information after submitting a form[](https://react.dev/reference/react/useActionState#display-information-after-submitting-a-form "Link for Display information after submitting a form")
1. Display form errors 2. Display structured information after submitting a form 
#### 
Example 1 of 2: 
Display form errors [](https://react.dev/reference/react/useActionState#display-form-errors "Link for this heading")
To display messages such as an error message or toast that’s returned by a Server Function, wrap the action in a call to `useActionState`.
App.jsactions.js
App.js
ResetFork
```
import { useActionState, useState } from "react";
import { addToCart } from "./actions.js";
function AddToCartForm({itemID, itemTitle}) {
 const [message, formAction, isPending] = useActionState(addToCart, null);
 return (
  <form action={formAction}>
   <h2>{itemTitle}</h2>
   <input type="hidden" name="itemID" value={itemID} />
   <button type="submit">Add to Cart</button>
   {isPending ? "Loading..." : message}
  </form>
 );
}
export default function App() {
 return (
  <>
   <AddToCartForm itemID="1" itemTitle="JavaScript: The Definitive Guide" />
   <AddToCartForm itemID="2" itemTitle="JavaScript: The Good Parts" />
  </>
 )
}

```

Show more
Next Example
## Troubleshooting [](https://react.dev/reference/react/useActionState#troubleshooting "Link for Troubleshooting ")
### My action can no longer read the submitted form data [](https://react.dev/reference/react/useActionState#my-action-can-no-longer-read-the-submitted-form-data "Link for My action can no longer read the submitted form data ")
When you wrap an action with `useActionState`, it gets an extra argument _as its first argument_. The submitted form data is therefore its _second_ argument instead of its first as it would usually be. The new first argument that gets added is the current state of the form.
```

function action(currentState, formData) {
 // ...
}

```

[PreviousHooks](https://react.dev/reference/react/hooks)[NextuseCallback](https://react.dev/reference/react/useCallback)
[](https://opensource.fb.com/)
Copyright © Meta Platforms, Inc
no uwu plz
uwu?
Logo by[@sawaratsuki1004](https://twitter.com/sawaratsuki1004)
[Learn React](https://react.dev/learn)
[Quick Start](https://react.dev/learn)
[Installation](https://react.dev/learn/installation)
[Describing the UI](https://react.dev/learn/describing-the-ui)
[Adding Interactivity](https://react.dev/learn/adding-interactivity)
[Managing State](https://react.dev/learn/managing-state)
[Escape Hatches](https://react.dev/learn/escape-hatches)
[API Reference](https://react.dev/reference/react)
[React APIs](https://react.dev/reference/react)
[React DOM APIs](https://react.dev/reference/react-dom)
[Community](https://react.dev/community)
[Code of Conduct](https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md)
[Meet the Team](https://react.dev/community/team)
[Docs Contributors](https://react.dev/community/docs-contributors)
[Acknowledgements](https://react.dev/community/acknowledgements)
More
[Blog](https://react.dev/blog)
[React Native](https://reactnative.dev/)
[Privacy](https://opensource.facebook.com/legal/privacy)
[Terms](https://opensource.fb.com/legal/terms/)
[](https://www.facebook.com/react)[](https://twitter.com/reactjs)[](https://bsky.app/profile/react.dev)[](https://github.com/facebook/react)
## On this page
  * [Overview](https://react.dev/reference/react/useActionState)
  * [Reference ](https://react.dev/reference/react/useActionState#reference)
  * [`useActionState(action, initialState, permalink?)` ](https://react.dev/reference/react/useActionState#useactionstate)
  * [Usage ](https://react.dev/reference/react/useActionState#usage)
  * [Using information returned by a form action ](https://react.dev/reference/react/useActionState#using-information-returned-by-a-form-action)
  * [Troubleshooting ](https://react.dev/reference/react/useActionState#troubleshooting)
  * [My action can no longer read the submitted form data ](https://react.dev/reference/react/useActionState#my-action-can-no-longer-read-the-submitted-form-data)



