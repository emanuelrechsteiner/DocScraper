---
url: https://react.dev/reference/react/experimental_taintObjectReference
scraped_at: 2025-05-25T08:43:53.159175
title: experimental_taintObjectReference – React
---

Join us for React Conf on Oct 7-8.
[Learn more.](https://conf.react.dev/)
[![logo by @sawaratsuki1004](https://react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=128&q=75)](https://react.dev/)
[React](https://react.dev/)
[v19.1](https://react.dev/versions)
Search`⌘``Ctrl``K`
[Learn](https://react.dev/learn)
[Reference](https://react.dev/reference/react)
[Community](https://react.dev/community)
[Blog](https://react.dev/blog)
[](https://react.dev/community/translations)
[](https://github.com/facebook/react/releases)
### react@19.1
  * [Overview ](https://react.dev/reference/react "Overview")
  * [Hooks ](https://react.dev/reference/react/hooks "Hooks")
    * [useActionState ](https://react.dev/reference/react/useActionState "useActionState")
    * [useCallback ](https://react.dev/reference/react/useCallback "useCallback")
    * [useContext ](https://react.dev/reference/react/useContext "useContext")
    * [useDebugValue ](https://react.dev/reference/react/useDebugValue "useDebugValue")
    * [useDeferredValue ](https://react.dev/reference/react/useDeferredValue "useDeferredValue")
    * [useEffect ](https://react.dev/reference/react/useEffect "useEffect")
    * [useId ](https://react.dev/reference/react/useId "useId")
    * [useImperativeHandle ](https://react.dev/reference/react/useImperativeHandle "useImperativeHandle")
    * [useInsertionEffect ](https://react.dev/reference/react/useInsertionEffect "useInsertionEffect")
    * [useLayoutEffect ](https://react.dev/reference/react/useLayoutEffect "useLayoutEffect")
    * [useMemo ](https://react.dev/reference/react/useMemo "useMemo")
    * [useOptimistic ](https://react.dev/reference/react/useOptimistic "useOptimistic")
    * [useReducer ](https://react.dev/reference/react/useReducer "useReducer")
    * [useRef ](https://react.dev/reference/react/useRef "useRef")
    * [useState ](https://react.dev/reference/react/useState "useState")
    * [useSyncExternalStore ](https://react.dev/reference/react/useSyncExternalStore "useSyncExternalStore")
    * [useTransition ](https://react.dev/reference/react/useTransition "useTransition")
  * [Components ](https://react.dev/reference/react/components "Components")
    * [<Fragment> (<>) ](https://react.dev/reference/react/Fragment "<Fragment> \(<>\)")
    * [<Profiler> ](https://react.dev/reference/react/Profiler "<Profiler>")
    * [<StrictMode> ](https://react.dev/reference/react/StrictMode "<StrictMode>")
    * [<Suspense> ](https://react.dev/reference/react/Suspense "<Suspense>")
    * [<Activity> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/Activity "<Activity>")
    * [<ViewTransition> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/ViewTransition "<ViewTransition>")
  * [APIs ](https://react.dev/reference/react/apis "APIs")
    * [act ](https://react.dev/reference/react/act "act")
    * [cache ](https://react.dev/reference/react/cache "cache")
    * [captureOwnerStack ](https://react.dev/reference/react/captureOwnerStack "captureOwnerStack")
    * [createContext ](https://react.dev/reference/react/createContext "createContext")
    * [lazy ](https://react.dev/reference/react/lazy "lazy")
    * [memo ](https://react.dev/reference/react/memo "memo")
    * [startTransition ](https://react.dev/reference/react/startTransition "startTransition")
    * [use ](https://react.dev/reference/react/use "use")
    * [experimental_taintObjectReference  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintObjectReference "experimental_taintObjectReference")
    * [experimental_taintUniqueValue  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintUniqueValue "experimental_taintUniqueValue")
    * [unstable_addTransitionType  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/addTransitionType "unstable_addTransitionType")
### react-dom@19.1
  * [Hooks ](https://react.dev/reference/react-dom/hooks "Hooks")
    * [useFormStatus ](https://react.dev/reference/react-dom/hooks/useFormStatus "useFormStatus")
  * [Components ](https://react.dev/reference/react-dom/components "Components")
    * [Common (e.g. <div>) ](https://react.dev/reference/react-dom/components/common "Common \(e.g. <div>\)")
    * [<form> ](https://react.dev/reference/react-dom/components/form "<form>")
    * [<input> ](https://react.dev/reference/react-dom/components/input "<input>")
    * [<option> ](https://react.dev/reference/react-dom/components/option "<option>")
    * [<progress> ](https://react.dev/reference/react-dom/components/progress "<progress>")
    * [<select> ](https://react.dev/reference/react-dom/components/select "<select>")
    * [<textarea> ](https://react.dev/reference/react-dom/components/textarea "<textarea>")
    * [<link> ](https://react.dev/reference/react-dom/components/link "<link>")
    * [<meta> ](https://react.dev/reference/react-dom/components/meta "<meta>")
    * [<script> ](https://react.dev/reference/react-dom/components/script "<script>")
    * [<style> ](https://react.dev/reference/react-dom/components/style "<style>")
    * [<title> ](https://react.dev/reference/react-dom/components/title "<title>")
  * [APIs ](https://react.dev/reference/react-dom "APIs")
    * [createPortal ](https://react.dev/reference/react-dom/createPortal "createPortal")
    * [flushSync ](https://react.dev/reference/react-dom/flushSync "flushSync")
    * [preconnect ](https://react.dev/reference/react-dom/preconnect "preconnect")
    * [prefetchDNS ](https://react.dev/reference/react-dom/prefetchDNS "prefetchDNS")
    * [preinit ](https://react.dev/reference/react-dom/preinit "preinit")
    * [preinitModule ](https://react.dev/reference/react-dom/preinitModule "preinitModule")
    * [preload ](https://react.dev/reference/react-dom/preload "preload")
    * [preloadModule ](https://react.dev/reference/react-dom/preloadModule "preloadModule")
  * [Client APIs ](https://react.dev/reference/react-dom/client "Client APIs")
    * [createRoot ](https://react.dev/reference/react-dom/client/createRoot "createRoot")
    * [hydrateRoot ](https://react.dev/reference/react-dom/client/hydrateRoot "hydrateRoot")
  * [Server APIs ](https://react.dev/reference/react-dom/server "Server APIs")
    * [renderToPipeableStream ](https://react.dev/reference/react-dom/server/renderToPipeableStream "renderToPipeableStream")
    * [renderToReadableStream ](https://react.dev/reference/react-dom/server/renderToReadableStream "renderToReadableStream")
    * [renderToStaticMarkup ](https://react.dev/reference/react-dom/server/renderToStaticMarkup "renderToStaticMarkup")
    * [renderToString ](https://react.dev/reference/react-dom/server/renderToString "renderToString")
  * [Static APIs ](https://react.dev/reference/react-dom/static "Static APIs")
    * [prerender ](https://react.dev/reference/react-dom/static/prerender "prerender")
    * [prerenderToNodeStream ](https://react.dev/reference/react-dom/static/prerenderToNodeStream "prerenderToNodeStream")
### Rules of React
  * [Overview ](https://react.dev/reference/rules "Overview")
    * [Components and Hooks must be pure ](https://react.dev/reference/rules/components-and-hooks-must-be-pure "Components and Hooks must be pure")
    * [React calls Components and Hooks ](https://react.dev/reference/rules/react-calls-components-and-hooks "React calls Components and Hooks")
    * [Rules of Hooks ](https://react.dev/reference/rules/rules-of-hooks "Rules of Hooks")
### React Server Components
  * [Server Components ](https://react.dev/reference/rsc/server-components "Server Components")
  * [Server Functions ](https://react.dev/reference/rsc/server-functions "Server Functions")
  * [Directives ](https://react.dev/reference/rsc/directives "Directives")
    * ['use client' ](https://react.dev/reference/rsc/use-client "'use client'")
    * ['use server' ](https://react.dev/reference/rsc/use-server "'use server'")
### Legacy APIs
  * [Legacy React APIs ](https://react.dev/reference/react/legacy "Legacy React APIs")
    * [Children ](https://react.dev/reference/react/Children "Children")
    * [cloneElement ](https://react.dev/reference/react/cloneElement "cloneElement")
    * [Component ](https://react.dev/reference/react/Component "Component")
    * [createElement ](https://react.dev/reference/react/createElement "createElement")
    * [createRef ](https://react.dev/reference/react/createRef "createRef")
    * [forwardRef ](https://react.dev/reference/react/forwardRef "forwardRef")
    * [isValidElement ](https://react.dev/reference/react/isValidElement "isValidElement")
    * [PureComponent ](https://react.dev/reference/react/PureComponent "PureComponent")


Is this page useful?
[API Reference](https://react.dev/reference/react)
[APIs](https://react.dev/reference/react/apis)
# experimental_taintObjectReference - This feature is available in the latest Experimental version of React[](https://react.dev/reference/react/experimental_taintObjectReference#undefined "Link for this heading")
### Experimental Feature
**This API is experimental and is not available in a stable version of React yet.**
You can try it by upgrading React packages to the most recent experimental version:
  * `react@experimental`
  * `react-dom@experimental`
  * `eslint-plugin-react-hooks@experimental`


Experimental versions of React may contain bugs. Don’t use them in production.
This API is only available inside React Server Components.
`taintObjectReference` lets you prevent a specific object instance from being passed to a Client Component like a `user` object.
```

experimental_taintObjectReference(message, object);

```

To prevent passing a key, hash or token, see [`taintUniqueValue`](https://react.dev/reference/react/experimental_taintUniqueValue).
  * [Reference ](https://react.dev/reference/react/experimental_taintObjectReference#reference)
    * [`taintObjectReference(message, object)` ](https://react.dev/reference/react/experimental_taintObjectReference#taintobjectreference)
  * [Usage ](https://react.dev/reference/react/experimental_taintObjectReference#usage)
    * [Prevent user data from unintentionally reaching the client ](https://react.dev/reference/react/experimental_taintObjectReference#prevent-user-data-from-unintentionally-reaching-the-client)


## Reference [](https://react.dev/reference/react/experimental_taintObjectReference#reference "Link for Reference ")
### `taintObjectReference(message, object)` [](https://react.dev/reference/react/experimental_taintObjectReference#taintobjectreference "Link for this heading")
Call `taintObjectReference` with an object to register it with React as something that should not be allowed to be passed to the Client as is:
```

import {experimental_taintObjectReference} from 'react';
experimental_taintObjectReference(
 'Do not pass ALL environment variables to the client.',
 process.env
);

```

[See more examples below.](https://react.dev/reference/react/experimental_taintObjectReference#usage)
#### Parameters [](https://react.dev/reference/react/experimental_taintObjectReference#parameters "Link for Parameters ")
  * `message`: The message you want to display if the object gets passed to a Client Component. This message will be displayed as a part of the Error that will be thrown if the object gets passed to a Client Component.
  * `object`: The object to be tainted. Functions and class instances can be passed to `taintObjectReference` as `object`. Functions and classes are already blocked from being passed to Client Components but the React’s default error message will be replaced by what you defined in `message`. When a specific instance of a Typed Array is passed to `taintObjectReference` as `object`, any other copies of the Typed Array will not be tainted.


#### Returns [](https://react.dev/reference/react/experimental_taintObjectReference#returns "Link for Returns ")
`experimental_taintObjectReference` returns `undefined`.
#### Caveats [](https://react.dev/reference/react/experimental_taintObjectReference#caveats "Link for Caveats ")
  * Recreating or cloning a tainted object creates a new untainted object which may contain sensitive data. For example, if you have a tainted `user` object, `const userInfo = {name: user.name, ssn: user.ssn}` or `{...user}` will create new objects which are not tainted. `taintObjectReference` only protects against simple mistakes when the object is passed through to a Client Component unchanged.


### Pitfall
**Do not rely on just tainting for security.** Tainting an object doesn’t prevent leaking of every possible derived value. For example, the clone of a tainted object will create a new untainted object. Using data from a tainted object (e.g. `{secret: taintedObj.secret}`) will create a new value or object that is not tainted. Tainting is a layer of protection; a secure app will have multiple layers of protection, well designed APIs, and isolation patterns.
## Usage [](https://react.dev/reference/react/experimental_taintObjectReference#usage "Link for Usage ")
### Prevent user data from unintentionally reaching the client [](https://react.dev/reference/react/experimental_taintObjectReference#prevent-user-data-from-unintentionally-reaching-the-client "Link for Prevent user data from unintentionally reaching the client ")
A Client Component should never accept objects that carry sensitive data. Ideally, the data fetching functions should not expose data that the current user should not have access to. Sometimes mistakes happen during refactoring. To protect against these mistakes happening down the line we can “taint” the user object in our data API.
```

import {experimental_taintObjectReference} from 'react';
export async function getUser(id) {
 const user = await db`SELECT * FROM users WHERE id = ${id}`;
 experimental_taintObjectReference(
  'Do not pass the entire user object to the client. ' +
   'Instead, pick off the specific properties you need for this use case.',
  user,
 );
 return user;
}

```

Now whenever anyone tries to pass this object to a Client Component, an error will be thrown with the passed in error message instead.
##### Deep Dive
#### Protecting against leaks in data fetching [](https://react.dev/reference/react/experimental_taintObjectReference#protecting-against-leaks-in-data-fetching "Link for Protecting against leaks in data fetching ")
Show Details
If you’re running a Server Components environment that has access to sensitive data, you have to be careful not to pass objects straight through:
```

// api.js
export async function getUser(id) {
 const user = await db`SELECT * FROM users WHERE id = ${id}`;
 return user;
}

```

```

import { getUser } from 'api.js';
import { InfoCard } from 'components.js';
export async function Profile(props) {
 const user = await getUser(props.userId);
 // DO NOT DO THIS
 return <InfoCard user={user} />;
}

```

```

// components.js
"use client";
export async function InfoCard({ user }) {
 return <div>{user.name}</div>;
}

```

Ideally, the `getUser` should not expose data that the current user should not have access to. To prevent passing the `user` object to a Client Component down the line we can “taint” the user object:
```

// api.js
import {experimental_taintObjectReference} from 'react';
export async function getUser(id) {
 const user = await db`SELECT * FROM users WHERE id = ${id}`;
 experimental_taintObjectReference(
  'Do not pass the entire user object to the client. ' +
   'Instead, pick off the specific properties you need for this use case.',
  user,
 );
 return user;
}

```

Now if anyone tries to pass the `user` object to a Client Component, an error will be thrown with the passed in error message.
[Previoususe](https://react.dev/reference/react/use)[Nextexperimental_taintUniqueValue](https://react.dev/reference/react/experimental_taintUniqueValue)
[](https://opensource.fb.com/)
Copyright © Meta Platforms, Inc
no uwu plz
uwu?
Logo by[@sawaratsuki1004](https://twitter.com/sawaratsuki1004)
[Learn React](https://react.dev/learn)
[Quick Start](https://react.dev/learn)
[Installation](https://react.dev/learn/installation)
[Describing the UI](https://react.dev/learn/describing-the-ui)
[Adding Interactivity](https://react.dev/learn/adding-interactivity)
[Managing State](https://react.dev/learn/managing-state)
[Escape Hatches](https://react.dev/learn/escape-hatches)
[API Reference](https://react.dev/reference/react)
[React APIs](https://react.dev/reference/react)
[React DOM APIs](https://react.dev/reference/react-dom)
[Community](https://react.dev/community)
[Code of Conduct](https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md)
[Meet the Team](https://react.dev/community/team)
[Docs Contributors](https://react.dev/community/docs-contributors)
[Acknowledgements](https://react.dev/community/acknowledgements)
More
[Blog](https://react.dev/blog)
[React Native](https://reactnative.dev/)
[Privacy](https://opensource.facebook.com/legal/privacy)
[Terms](https://opensource.fb.com/legal/terms/)
[](https://www.facebook.com/react)[](https://twitter.com/reactjs)[](https://bsky.app/profile/react.dev)[](https://github.com/facebook/react)
## On this page
  * [Overview](https://react.dev/reference/react/experimental_taintObjectReference)
  * [Reference ](https://react.dev/reference/react/experimental_taintObjectReference#reference)
  * [`taintObjectReference(message, object)` ](https://react.dev/reference/react/experimental_taintObjectReference#taintobjectreference)
  * [Usage ](https://react.dev/reference/react/experimental_taintObjectReference#usage)
  * [Prevent user data from unintentionally reaching the client ](https://react.dev/reference/react/experimental_taintObjectReference#prevent-user-data-from-unintentionally-reaching-the-client)



