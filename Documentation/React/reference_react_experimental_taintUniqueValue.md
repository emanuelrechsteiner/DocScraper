---
url: https://react.dev/reference/react/experimental_taintUniqueValue
scraped_at: 2025-05-25T08:49:33.797079
title: experimental_taintUniqueValue – React
---

Join us for React Conf on Oct 7-8.
[Learn more.](https://conf.react.dev/)
[![logo by @sawaratsuki1004](https://react.dev/_next/image?url=%2Fimages%2Fuwu.png&w=128&q=75)](https://react.dev/)
[React](https://react.dev/)
[v19.1](https://react.dev/versions)
Search`⌘``Ctrl``K`
[Learn](https://react.dev/learn)
[Reference](https://react.dev/reference/react)
[Community](https://react.dev/community)
[Blog](https://react.dev/blog)
[](https://react.dev/community/translations)
[](https://github.com/facebook/react/releases)
### react@19.1
  * [Overview ](https://react.dev/reference/react "Overview")
  * [Hooks ](https://react.dev/reference/react/hooks "Hooks")
    * [useActionState ](https://react.dev/reference/react/useActionState "useActionState")
    * [useCallback ](https://react.dev/reference/react/useCallback "useCallback")
    * [useContext ](https://react.dev/reference/react/useContext "useContext")
    * [useDebugValue ](https://react.dev/reference/react/useDebugValue "useDebugValue")
    * [useDeferredValue ](https://react.dev/reference/react/useDeferredValue "useDeferredValue")
    * [useEffect ](https://react.dev/reference/react/useEffect "useEffect")
    * [useId ](https://react.dev/reference/react/useId "useId")
    * [useImperativeHandle ](https://react.dev/reference/react/useImperativeHandle "useImperativeHandle")
    * [useInsertionEffect ](https://react.dev/reference/react/useInsertionEffect "useInsertionEffect")
    * [useLayoutEffect ](https://react.dev/reference/react/useLayoutEffect "useLayoutEffect")
    * [useMemo ](https://react.dev/reference/react/useMemo "useMemo")
    * [useOptimistic ](https://react.dev/reference/react/useOptimistic "useOptimistic")
    * [useReducer ](https://react.dev/reference/react/useReducer "useReducer")
    * [useRef ](https://react.dev/reference/react/useRef "useRef")
    * [useState ](https://react.dev/reference/react/useState "useState")
    * [useSyncExternalStore ](https://react.dev/reference/react/useSyncExternalStore "useSyncExternalStore")
    * [useTransition ](https://react.dev/reference/react/useTransition "useTransition")
  * [Components ](https://react.dev/reference/react/components "Components")
    * [<Fragment> (<>) ](https://react.dev/reference/react/Fragment "<Fragment> \(<>\)")
    * [<Profiler> ](https://react.dev/reference/react/Profiler "<Profiler>")
    * [<StrictMode> ](https://react.dev/reference/react/StrictMode "<StrictMode>")
    * [<Suspense> ](https://react.dev/reference/react/Suspense "<Suspense>")
    * [<Activity> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/Activity "<Activity>")
    * [<ViewTransition> - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/ViewTransition "<ViewTransition>")
  * [APIs ](https://react.dev/reference/react/apis "APIs")
    * [act ](https://react.dev/reference/react/act "act")
    * [cache ](https://react.dev/reference/react/cache "cache")
    * [captureOwnerStack ](https://react.dev/reference/react/captureOwnerStack "captureOwnerStack")
    * [createContext ](https://react.dev/reference/react/createContext "createContext")
    * [lazy ](https://react.dev/reference/react/lazy "lazy")
    * [memo ](https://react.dev/reference/react/memo "memo")
    * [startTransition ](https://react.dev/reference/react/startTransition "startTransition")
    * [use ](https://react.dev/reference/react/use "use")
    * [experimental_taintObjectReference  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintObjectReference "experimental_taintObjectReference")
    * [experimental_taintUniqueValue  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/experimental_taintUniqueValue "experimental_taintUniqueValue")
    * [unstable_addTransitionType  - This feature is available in the latest Experimental version of React](https://react.dev/reference/react/addTransitionType "unstable_addTransitionType")
### react-dom@19.1
  * [Hooks ](https://react.dev/reference/react-dom/hooks "Hooks")
    * [useFormStatus ](https://react.dev/reference/react-dom/hooks/useFormStatus "useFormStatus")
  * [Components ](https://react.dev/reference/react-dom/components "Components")
    * [Common (e.g. <div>) ](https://react.dev/reference/react-dom/components/common "Common \(e.g. <div>\)")
    * [<form> ](https://react.dev/reference/react-dom/components/form "<form>")
    * [<input> ](https://react.dev/reference/react-dom/components/input "<input>")
    * [<option> ](https://react.dev/reference/react-dom/components/option "<option>")
    * [<progress> ](https://react.dev/reference/react-dom/components/progress "<progress>")
    * [<select> ](https://react.dev/reference/react-dom/components/select "<select>")
    * [<textarea> ](https://react.dev/reference/react-dom/components/textarea "<textarea>")
    * [<link> ](https://react.dev/reference/react-dom/components/link "<link>")
    * [<meta> ](https://react.dev/reference/react-dom/components/meta "<meta>")
    * [<script> ](https://react.dev/reference/react-dom/components/script "<script>")
    * [<style> ](https://react.dev/reference/react-dom/components/style "<style>")
    * [<title> ](https://react.dev/reference/react-dom/components/title "<title>")
  * [APIs ](https://react.dev/reference/react-dom "APIs")
    * [createPortal ](https://react.dev/reference/react-dom/createPortal "createPortal")
    * [flushSync ](https://react.dev/reference/react-dom/flushSync "flushSync")
    * [preconnect ](https://react.dev/reference/react-dom/preconnect "preconnect")
    * [prefetchDNS ](https://react.dev/reference/react-dom/prefetchDNS "prefetchDNS")
    * [preinit ](https://react.dev/reference/react-dom/preinit "preinit")
    * [preinitModule ](https://react.dev/reference/react-dom/preinitModule "preinitModule")
    * [preload ](https://react.dev/reference/react-dom/preload "preload")
    * [preloadModule ](https://react.dev/reference/react-dom/preloadModule "preloadModule")
  * [Client APIs ](https://react.dev/reference/react-dom/client "Client APIs")
    * [createRoot ](https://react.dev/reference/react-dom/client/createRoot "createRoot")
    * [hydrateRoot ](https://react.dev/reference/react-dom/client/hydrateRoot "hydrateRoot")
  * [Server APIs ](https://react.dev/reference/react-dom/server "Server APIs")
    * [renderToPipeableStream ](https://react.dev/reference/react-dom/server/renderToPipeableStream "renderToPipeableStream")
    * [renderToReadableStream ](https://react.dev/reference/react-dom/server/renderToReadableStream "renderToReadableStream")
    * [renderToStaticMarkup ](https://react.dev/reference/react-dom/server/renderToStaticMarkup "renderToStaticMarkup")
    * [renderToString ](https://react.dev/reference/react-dom/server/renderToString "renderToString")
  * [Static APIs ](https://react.dev/reference/react-dom/static "Static APIs")
    * [prerender ](https://react.dev/reference/react-dom/static/prerender "prerender")
    * [prerenderToNodeStream ](https://react.dev/reference/react-dom/static/prerenderToNodeStream "prerenderToNodeStream")
### Rules of React
  * [Overview ](https://react.dev/reference/rules "Overview")
    * [Components and Hooks must be pure ](https://react.dev/reference/rules/components-and-hooks-must-be-pure "Components and Hooks must be pure")
    * [React calls Components and Hooks ](https://react.dev/reference/rules/react-calls-components-and-hooks "React calls Components and Hooks")
    * [Rules of Hooks ](https://react.dev/reference/rules/rules-of-hooks "Rules of Hooks")
### React Server Components
  * [Server Components ](https://react.dev/reference/rsc/server-components "Server Components")
  * [Server Functions ](https://react.dev/reference/rsc/server-functions "Server Functions")
  * [Directives ](https://react.dev/reference/rsc/directives "Directives")
    * ['use client' ](https://react.dev/reference/rsc/use-client "'use client'")
    * ['use server' ](https://react.dev/reference/rsc/use-server "'use server'")
### Legacy APIs
  * [Legacy React APIs ](https://react.dev/reference/react/legacy "Legacy React APIs")
    * [Children ](https://react.dev/reference/react/Children "Children")
    * [cloneElement ](https://react.dev/reference/react/cloneElement "cloneElement")
    * [Component ](https://react.dev/reference/react/Component "Component")
    * [createElement ](https://react.dev/reference/react/createElement "createElement")
    * [createRef ](https://react.dev/reference/react/createRef "createRef")
    * [forwardRef ](https://react.dev/reference/react/forwardRef "forwardRef")
    * [isValidElement ](https://react.dev/reference/react/isValidElement "isValidElement")
    * [PureComponent ](https://react.dev/reference/react/PureComponent "PureComponent")


Is this page useful?
[API Reference](https://react.dev/reference/react)
[APIs](https://react.dev/reference/react/apis)
# experimental_taintUniqueValue - This feature is available in the latest Experimental version of React[](https://react.dev/reference/react/experimental_taintUniqueValue#undefined "Link for this heading")
### Experimental Feature
**This API is experimental and is not available in a stable version of React yet.**
You can try it by upgrading React packages to the most recent experimental version:
  * `react@experimental`
  * `react-dom@experimental`
  * `eslint-plugin-react-hooks@experimental`


Experimental versions of React may contain bugs. Don’t use them in production.
This API is only available inside [React Server Components](https://react.dev/reference/rsc/use-client).
`taintUniqueValue` lets you prevent unique values from being passed to Client Components like passwords, keys, or tokens.
```

taintUniqueValue(errMessage, lifetime, value)

```

To prevent passing an object containing sensitive data, see [`taintObjectReference`](https://react.dev/reference/react/experimental_taintObjectReference).
  * [Reference ](https://react.dev/reference/react/experimental_taintUniqueValue#reference)
    * [`taintUniqueValue(message, lifetime, value)` ](https://react.dev/reference/react/experimental_taintUniqueValue#taintuniquevalue)
  * [Usage ](https://react.dev/reference/react/experimental_taintUniqueValue#usage)
    * [Prevent a token from being passed to Client Components ](https://react.dev/reference/react/experimental_taintUniqueValue#prevent-a-token-from-being-passed-to-client-components)


## Reference [](https://react.dev/reference/react/experimental_taintUniqueValue#reference "Link for Reference ")
### `taintUniqueValue(message, lifetime, value)` [](https://react.dev/reference/react/experimental_taintUniqueValue#taintuniquevalue "Link for this heading")
Call `taintUniqueValue` with a password, token, key or hash to register it with React as something that should not be allowed to be passed to the Client as is:
```

import {experimental_taintUniqueValue} from 'react';
experimental_taintUniqueValue(
 'Do not pass secret keys to the client.',
 process,
 process.env.SECRET_KEY
);

```

[See more examples below.](https://react.dev/reference/react/experimental_taintUniqueValue#usage)
#### Parameters [](https://react.dev/reference/react/experimental_taintUniqueValue#parameters "Link for Parameters ")
  * `message`: The message you want to display if `value` is passed to a Client Component. This message will be displayed as a part of the Error that will be thrown if `value` is passed to a Client Component.
  * `lifetime`: Any object that indicates how long `value` should be tainted. `value` will be blocked from being sent to any Client Component while this object still exists. For example, passing `globalThis` blocks the value for the lifetime of an app. `lifetime` is typically an object whose properties contains `value`.
  * `value`: A string, bigint or TypedArray. `value` must be a unique sequence of characters or bytes with high entropy such as a cryptographic token, private key, hash, or a long password. `value` will be blocked from being sent to any Client Component.


#### Returns [](https://react.dev/reference/react/experimental_taintUniqueValue#returns "Link for Returns ")
`experimental_taintUniqueValue` returns `undefined`.
#### Caveats [](https://react.dev/reference/react/experimental_taintUniqueValue#caveats "Link for Caveats ")
  * Deriving new values from tainted values can compromise tainting protection. New values created by uppercasing tainted values, concatenating tainted string values into a larger string, converting tainted values to base64, substringing tainted values, and other similar transformations are not tainted unless you explicitly call `taintUniqueValue` on these newly created values.
  * Do not use `taintUniqueValue` to protect low-entropy values such as PIN codes or phone numbers. If any value in a request is controlled by an attacker, they could infer which value is tainted by enumerating all possible values of the secret.


## Usage [](https://react.dev/reference/react/experimental_taintUniqueValue#usage "Link for Usage ")
### Prevent a token from being passed to Client Components [](https://react.dev/reference/react/experimental_taintUniqueValue#prevent-a-token-from-being-passed-to-client-components "Link for Prevent a token from being passed to Client Components ")
To ensure that sensitive information such as passwords, session tokens, or other unique values do not inadvertently get passed to Client Components, the `taintUniqueValue` function provides a layer of protection. When a value is tainted, any attempt to pass it to a Client Component will result in an error.
The `lifetime` argument defines the duration for which the value remains tainted. For values that should remain tainted indefinitely, objects like [`globalThis`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis) or `process` can serve as the `lifetime` argument. These objects have a lifespan that spans the entire duration of your app’s execution.
```

import {experimental_taintUniqueValue} from 'react';
experimental_taintUniqueValue(
 'Do not pass a user password to the client.',
 globalThis,
 process.env.SECRET_KEY
);

```

If the tainted value’s lifespan is tied to a object, the `lifetime` should be the object that encapsulates the value. This ensures the tainted value remains protected for the lifetime of the encapsulating object.
```

import {experimental_taintUniqueValue} from 'react';
export async function getUser(id) {
 const user = await db`SELECT * FROM users WHERE id = ${id}`;
 experimental_taintUniqueValue(
  'Do not pass a user session token to the client.',
  user,
  user.session.token
 );
 return user;
}

```

In this example, the `user` object serves as the `lifetime` argument. If this object gets stored in a global cache or is accessible by another request, the session token remains tainted.
### Pitfall
**Do not rely solely on tainting for security.** Tainting a value doesn’t block every possible derived value. For example, creating a new value by upper casing a tainted string will not taint the new value.
```

import {experimental_taintUniqueValue} from 'react';
const password = 'correct horse battery staple';
experimental_taintUniqueValue(
 'Do not pass the password to the client.',
 globalThis,
 password
);
const uppercasePassword = password.toUpperCase() // `uppercasePassword` is not tainted

```

In this example, the constant `password` is tainted. Then `password` is used to create a new value `uppercasePassword` by calling the `toUpperCase` method on `password`. The newly created `uppercasePassword` is not tainted.
Other similar ways of deriving new values from tainted values like concatenating it into a larger string, converting it to base64, or returning a substring create untained values.
Tainting only protects against simple mistakes like explicitly passing secret values to the client. Mistakes in calling the `taintUniqueValue` like using a global store outside of React, without the corresponding lifetime object, can cause the tainted value to become untainted. Tainting is a layer of protection; a secure app will have multiple layers of protection, well designed APIs, and isolation patterns.
##### Deep Dive
#### Using `server-only` and `taintUniqueValue` to prevent leaking secrets [](https://react.dev/reference/react/experimental_taintUniqueValue#using-server-only-and-taintuniquevalue-to-prevent-leaking-secrets "Link for this heading")
Show Details
If you’re running a Server Components environment that has access to private keys or passwords such as database passwords, you have to be careful not to pass that to a Client Component.
```

export async function Dashboard(props) {
 // DO NOT DO THIS
 return <Overview password={process.env.API_PASSWORD} />;
}

```

```

"use client";
import {useEffect} from '...'
export async function Overview({ password }) {
 useEffect(() => {
  const headers = { Authorization: password };
  fetch(url, { headers }).then(...);
 }, [password]);
 ...
}

```

This example would leak the secret API token to the client. If this API token can be used to access data this particular user shouldn’t have access to, it could lead to a data breach.
Ideally, secrets like this are abstracted into a single helper file that can only be imported by trusted data utilities on the server. The helper can even be tagged with [`server-only`](https://www.npmjs.com/package/server-only) to ensure that this file isn’t imported on the client.
```

import "server-only";
export function fetchAPI(url) {
 const headers = { Authorization: process.env.API_PASSWORD };
 return fetch(url, { headers });
}

```

Sometimes mistakes happen during refactoring and not all of your colleagues might know about this. To protect against this mistakes happening down the line we can “taint” the actual password:
```

import "server-only";
import {experimental_taintUniqueValue} from 'react';
experimental_taintUniqueValue(
 'Do not pass the API token password to the client. ' +
  'Instead do all fetches on the server.'
 process,
 process.env.API_PASSWORD
);

```

Now whenever anyone tries to pass this password to a Client Component, or send the password to a Client Component with a Server Function, an error will be thrown with message you defined when you called `taintUniqueValue`.
[Previousexperimental_taintObjectReference](https://react.dev/reference/react/experimental_taintObjectReference)[Nextunstable_addTransitionType](https://react.dev/reference/react/addTransitionType)
[](https://opensource.fb.com/)
Copyright © Meta Platforms, Inc
no uwu plz
uwu?
Logo by[@sawaratsuki1004](https://twitter.com/sawaratsuki1004)
[Learn React](https://react.dev/learn)
[Quick Start](https://react.dev/learn)
[Installation](https://react.dev/learn/installation)
[Describing the UI](https://react.dev/learn/describing-the-ui)
[Adding Interactivity](https://react.dev/learn/adding-interactivity)
[Managing State](https://react.dev/learn/managing-state)
[Escape Hatches](https://react.dev/learn/escape-hatches)
[API Reference](https://react.dev/reference/react)
[React APIs](https://react.dev/reference/react)
[React DOM APIs](https://react.dev/reference/react-dom)
[Community](https://react.dev/community)
[Code of Conduct](https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md)
[Meet the Team](https://react.dev/community/team)
[Docs Contributors](https://react.dev/community/docs-contributors)
[Acknowledgements](https://react.dev/community/acknowledgements)
More
[Blog](https://react.dev/blog)
[React Native](https://reactnative.dev/)
[Privacy](https://opensource.facebook.com/legal/privacy)
[Terms](https://opensource.fb.com/legal/terms/)
[](https://www.facebook.com/react)[](https://twitter.com/reactjs)[](https://bsky.app/profile/react.dev)[](https://github.com/facebook/react)
## On this page
  * [Overview](https://react.dev/reference/react/experimental_taintUniqueValue)
  * [Reference ](https://react.dev/reference/react/experimental_taintUniqueValue#reference)
  * [`taintUniqueValue(message, lifetime, value)` ](https://react.dev/reference/react/experimental_taintUniqueValue#taintuniquevalue)
  * [Usage ](https://react.dev/reference/react/experimental_taintUniqueValue#usage)
  * [Prevent a token from being passed to Client Components ](https://react.dev/reference/react/experimental_taintUniqueValue#prevent-a-token-from-being-passed-to-client-components)



