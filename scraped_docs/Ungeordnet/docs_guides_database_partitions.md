---
url: https://supabase.com/docs/guides/database/partitions
scraped_at: 2025-05-25T08:53:07.818468
title: Partitioning tables | Supabase Docs
---

[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
  * [Start](https://supabase.com/docs/guides/getting-started)
  * Products 
  * Build 
  * Manage 
  * Reference 
  * Resources 


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
Search docs...
K
[Sign up](https://supabase.com/dashboard)
Main menu
[Database](https://supabase.com/docs/guides/database/overview)
  * [Overview](https://supabase.com/docs/guides/database/overview)
Fundamentals
  * [Connecting to your database](https://supabase.com/docs/guides/database/connecting-to-postgres)
  * [Importing data](https://supabase.com/docs/guides/database/import-data)
  * [Securing your data](https://supabase.com/docs/guides/database/secure-data)
Working with your database (basics)
  * [Managing tables, views, and data](https://supabase.com/docs/guides/database/tables)
  * [Working with arrays](https://supabase.com/docs/guides/database/arrays)
  * [Managing indexes](https://supabase.com/docs/guides/database/postgres/indexes)
  * [Querying joins and nested tables](https://supabase.com/docs/guides/database/joins-and-nesting)
  * [JSON and unstructured data](https://supabase.com/docs/guides/database/json)
Working with your database (intermediate)
  * [Implementing cascade deletes](https://supabase.com/docs/guides/database/postgres/cascade-deletes)
  * [Managing enums](https://supabase.com/docs/guides/database/postgres/enums)
  * [Managing database functions](https://supabase.com/docs/guides/database/functions)
  * [Managing database triggers](https://supabase.com/docs/guides/database/postgres/triggers)
  * [Managing database webhooks](https://supabase.com/docs/guides/database/webhooks)
  * [Using Full Text Search](https://supabase.com/docs/guides/database/full-text-search)
  * [Partitioning your tables](https://supabase.com/docs/guides/database/partitions)
  * [Managing connections](https://supabase.com/docs/guides/database/connection-management)
OrioleDB
  * [Overview](https://supabase.com/docs/guides/database/orioledb)
Access and security
  * [Row Level Security](https://supabase.com/docs/guides/database/postgres/row-level-security)
  * [Column Level Security](https://supabase.com/docs/guides/database/postgres/column-level-security)
  * [Hardening the Data API](https://supabase.com/docs/guides/database/hardening-data-api)
  * [Custom Claims & RBAC](https://supabase.com/docs/guides/database/postgres/custom-claims-and-role-based-access-control-rbac)
  * [Managing Postgres Roles](https://supabase.com/docs/guides/database/postgres/roles)
  * [Using Custom Postgres Roles](https://supabase.com/docs/guides/storage/schema/custom-roles)
  * [Managing secrets with Vault](https://supabase.com/docs/guides/database/vault)
  * [Superuser Access and Unsupported Operations](https://supabase.com/docs/guides/database/postgres/roles-superuser)
Configuration, optimization, and testing
  * [Database configuration](https://supabase.com/docs/guides/database/postgres/configuration)
  * [Managing database replication](https://supabase.com/docs/guides/database/replication)
  * [Query optimization](https://supabase.com/docs/guides/database/query-optimization)
  * [Database Advisors](https://supabase.com/docs/guides/database/database-advisors)
  * [Testing your database](https://supabase.com/docs/guides/database/testing)
  * [Customizing Postgres config](https://supabase.com/docs/guides/database/custom-postgres-config)
Debugging
  * [Timeouts](https://supabase.com/docs/guides/database/postgres/timeouts)
  * [Debugging and monitoring](https://supabase.com/docs/guides/database/inspect)
  * [Debugging performance issues](https://supabase.com/docs/guides/database/debugging-performance)
  * [Supavisor](https://supabase.com/docs/guides/database/supavisor)
ORM Quickstarts
  * [Prisma](https://supabase.com/docs/guides/database/prisma)
  * [Drizzle](https://supabase.com/docs/guides/database/drizzle)
  * [Postgres.js](https://supabase.com/docs/guides/database/postgres-js)
GUI quickstarts
  * [pgAdmin](https://supabase.com/docs/guides/database/pgadmin)
  * [PSQL](https://supabase.com/docs/guides/database/psql)
  * [DBeaver](https://supabase.com/docs/guides/database/dbeaver)
  * [Metabase](https://supabase.com/docs/guides/database/metabase)
  * [Beekeeper Studio](https://supabase.com/docs/guides/database/beekeeper-studio)
Extensions
  * [Overview](https://supabase.com/docs/guides/database/extensions)
  * [HypoPG: Hypothetical indexes](https://supabase.com/docs/guides/database/extensions/hypopg)
  * [plv8: Javascript Language](https://supabase.com/docs/guides/database/extensions/plv8)
  * [http: RESTful Client](https://supabase.com/docs/guides/database/extensions/http)
  * [index_advisor: Query optimization](https://supabase.com/docs/guides/database/extensions/index_advisor)
  * [PGAudit: Postgres Auditing](https://supabase.com/docs/guides/database/extensions/pgaudit)
  * [pgjwt: JSON Web Tokens](https://supabase.com/docs/guides/database/extensions/pgjwt)
  * [PGroonga: Multilingual Full Text Search](https://supabase.com/docs/guides/database/extensions/pgroonga)
  * [pgRouting: Geospatial Routing](https://supabase.com/docs/guides/database/extensions/pgrouting)
  * [pg_cron: Schedule Recurring Jobs](https://supabase.com/docs/guides/database/extensions/pg_cron)
  * [pg_graphql: GraphQL Support](https://supabase.com/docs/guides/database/extensions/pg_graphql)
  * [pg_hashids: Short UIDs](https://supabase.com/docs/guides/database/extensions/pg_hashids)
  * [pg_jsonschema: JSON Schema Validation](https://supabase.com/docs/guides/database/extensions/pg_jsonschema)
  * [pg_net: Async Networking](https://supabase.com/docs/guides/database/extensions/pg_net)
  * [pg_plan_filter: Restrict Total Cost](https://supabase.com/docs/guides/database/extensions/pg_plan_filter)
  * [postgres_fdw: query data from an external Postgres server](https://supabase.com/docs/guides/database/extensions/postgres_fdw)
  * [pgvector: Embeddings and vector similarity](https://supabase.com/docs/guides/database/extensions/pgvector)
  * [pg_stat_statements: SQL Planning and Execution Statistics](https://supabase.com/docs/guides/database/extensions/pg_stat_statements)
  * [pg_repack: Storage Optimization](https://supabase.com/docs/guides/database/extensions/pg_repack)
  * [PostGIS: Geo queries](https://supabase.com/docs/guides/database/extensions/postgis)
  * [pgmq: Queues](https://supabase.com/docs/guides/database/extensions/pgmq)
  * [pgsodium (pending deprecation): Encryption Features](https://supabase.com/docs/guides/database/extensions/pgsodium)
  * [pgTAP: Unit Testing](https://supabase.com/docs/guides/database/extensions/pgtap)
  * [plpgsql_check: PL/pgSQL Linter](https://supabase.com/docs/guides/database/extensions/plpgsql_check)
  * [timescaledb: Time-series data](https://supabase.com/docs/guides/database/extensions/timescaledb)
  * [uuid-ossp: Unique Identifiers](https://supabase.com/docs/guides/database/extensions/uuid-ossp)
  * [RUM: inverted index for full-text search](https://supabase.com/docs/guides/database/extensions/rum)
Foreign Data Wrappers
  * [Overview](https://supabase.com/docs/guides/database/extensions/wrappers/overview)
  * [Connecting to Auth0](https://supabase.com/docs/guides/database/extensions/wrappers/auth0)
  * [Connecting to Airtable](https://supabase.com/docs/guides/database/extensions/wrappers/airtable)
  * [Connecting to AWS Cognito](https://supabase.com/docs/guides/database/extensions/wrappers/cognito)
  * [Connecting to AWS S3](https://supabase.com/docs/guides/database/extensions/wrappers/s3)
  * [Connecting to BigQuery](https://supabase.com/docs/guides/database/extensions/wrappers/bigquery)
  * [Connecting to Clerk](https://supabase.com/docs/guides/database/extensions/wrappers/clerk)
  * [Connecting to ClickHouse](https://supabase.com/docs/guides/database/extensions/wrappers/clickhouse)
  * [Connecting to Firebase](https://supabase.com/docs/guides/database/extensions/wrappers/firebase)
  * [Connecting to Logflare](https://supabase.com/docs/guides/database/extensions/wrappers/logflare)
  * [Connecting to MSSQL](https://supabase.com/docs/guides/database/extensions/wrappers/mssql)
  * [Connecting to Notion](https://supabase.com/docs/guides/database/extensions/wrappers/notion)
  * [Connecting to Paddle](https://supabase.com/docs/guides/database/extensions/wrappers/paddle)
  * [Connecting to Redis](https://supabase.com/docs/guides/database/extensions/wrappers/redis)
  * [Connecting to Snowflake](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake)
  * [Connecting to Stripe](https://supabase.com/docs/guides/database/extensions/wrappers/stripe)
Examples
  * [Drop All Tables in Schema](https://supabase.com/docs/guides/database/postgres/dropping-all-tables-in-schema)
  * [Select First Row per Group](https://supabase.com/docs/guides/database/postgres/first-row-in-group)
  * [Print PostgreSQL Version](https://supabase.com/docs/guides/database/postgres/which-version-of-postgres)
  * [Replicating from Supabase to External Postgres](https://supabase.com/docs/guides/database/postgres/setup-replication-external)


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
  * [Start](https://supabase.com/docs/guides/getting-started)
  * Products 
  * Build 
  * Manage 
  * Reference 
  * Resources 


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
Search docs...
K
[Sign up](https://supabase.com/dashboard)
Database
  1. [Database](https://supabase.com/docs/guides/database/overview)
  2. Working with your database (intermediate)
  3. [Partitioning your tables](https://supabase.com/docs/guides/database/partitions)


Partitioning tables
Table partitioning is a technique that allows you to divide a large table into smaller, more manageable parts called “partitions”.
![multi database](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fimg%2Fdatabase%2Fpartitions-light.png&w=3840&q=75)
Each partition contains a subset of the data based on a specified criteria, such as a range of values or a specific condition. Partitioning can significantly improve query performance and simplify data management for large datasets.
## Benefits of table partitioning[#](https://supabase.com/docs/guides/database/partitions#benefits-of-table-partitioning)
  * **Improved query performance:** allows queries to target specific partitions, reducing the amount of data scanned and improving query execution time.
  * **Scalability:** With partitioning, you can add or remove partitions as your data grows or changes, enabling better scalability and flexibility.
  * **Efficient data management:** simplifies tasks such as data loading, archiving, and deletion by operating on smaller partitions instead of the entire table.
  * **Enhanced maintenance operations:** can optimize vacuuming and indexing, leading to faster maintenance tasks.


## Partitioning methods[#](https://supabase.com/docs/guides/database/partitions#partitioning-methods)
Postgres supports various partitioning methods based on how you want to partition your data. The commonly used methods are:
  1. **Range Partitioning** : Data is divided into partitions based on a specified range of values. For example, you can partition a sales table by date, where each partition represents a specific time range (e.g., one partition for each month).
  2. **List Partitioning** : Data is divided into partitions based on a specified list of values. For instance, you can partition a customer table by region, where each partition contains customers from a specific region (e.g., one partition for customers in the US, another for customers in Europe).
  3. **Hash Partitioning** : Data is distributed across partitions using a hash function. This method provides a way to evenly distribute data among partitions, which can be useful for load balancing. However, it doesn't allow direct querying based on specific values.


## Creating partitioned tables[#](https://supabase.com/docs/guides/database/partitions#creating-partitioned-tables)
Let's consider an example of range partitioning for a sales table based on the order date. We'll create monthly partitions to store data for each month:
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
createtablesales (  id bigintgeneratedbydefaultasidentity,  order_date datenot null,  customer_id bigint,  amount bigint,-- We need to include all the-- partitioning columns in constraints:primary key (order_date, id))partitionbyrange (order_date);createtablesales_2000_01partition of salesforvaluesfrom ('2000-01-01') to ('2000-02-01');createtablesales_2000_02partition of salesforvaluesfrom ('2000-02-01') to ('2000-03-01');

```

To create a partitioned table you append `partition by range (<column_name>)` to the table creation statement. The column that you are partitioning with _must_ be included in any unique index, which is the reason why we specify a composite primary key here (`primary key (order_date, id)`).
## Querying partitioned tables[#](https://supabase.com/docs/guides/database/partitions#querying-partitioned-tables)
To query a partitioned table, you have two options:
  1. Querying the parent table
  2. Querying specific partitions


### Querying the parent table[#](https://supabase.com/docs/guides/database/partitions#querying-the-parent-table)
When you query the parent table, Postgres automatically routes the query to the relevant partitions based on the conditions specified in the query. This allows you to retrieve data from all partitions simultaneously.
Example:
```

1
2
3
select*from saleswhere order_date >='2000-01-01'and order_date <'2000-03-01';

```

This query will retrieve data from both the `sales_2000_01` and `sales_2000_02` partitions.
### Querying specific partitions[#](https://supabase.com/docs/guides/database/partitions#querying-specific-partitions)
If you only need to retrieve data from a specific partition, you can directly query that partition instead of the parent table. This approach is useful when you want to target a specific range or condition within a partition.
```

1
2
select*from sales_2000_02;

```

This query will retrieve data only from the `sales_2000_02` partition.
## When to partition your tables[#](https://supabase.com/docs/guides/database/partitions#when-to-partition-your-tables)
There is no real threshold to determine when you should use partitions. Partitions introduce complexity, and complexity should be avoided until it's needed. A few guidelines:
  * If you are considering performance, avoid partitions until you see performance degradation on non-partitioned tables.
  * If you are using partitions as a management tool, it's fine to create the partitions any time.
  * If you don't know how you should partition your data, then it's probably too early.


## Examples[#](https://supabase.com/docs/guides/database/partitions#examples)
Here are simple examples for each of the partitioning types in Postgres.
### Range partitioning[#](https://supabase.com/docs/guides/database/partitions#range-partitioning)
Let's consider a range partitioning example for a table that stores sales data based on the order date. We'll create monthly partitions to store data for each month.
In this example, the **`sales`**table is partitioned into two partitions:**`sales_january`**and**`sales_february`**. The data in these partitions is based on the specified range of order dates:
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
createtablesales (  id bigintgeneratedbydefaultasidentity,  order_date datenot null,  customer_id bigint,  amount bigint,-- We need to include all the-- partitioning columns in constraints:primary key (order_date, id))partitionbyrange (order_date);createtablesales_2000_01partition of salesforvaluesfrom ('2000-01-01') to ('2000-02-01');createtablesales_2000_02partition of salesforvaluesfrom ('2000-02-01') to ('2000-03-01');

```

### List partitioning[#](https://supabase.com/docs/guides/database/partitions#list-partitioning)
Let's consider a list partitioning example for a table that stores customer data based on their region. We'll create partitions to store customers from different regions.
In this example, the **`customers`**table is partitioned into two partitions:`customers_americas` and `customers_asia`. The data in these partitions is based on the specified list of regions:
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
-- Create the partitioned tablecreatetablecustomers (  id bigintgeneratedbydefaultasidentity,nametext,  country text,-- We need to include all the-- partitioning columns in constraints:primary key (country, id))partitionby list(country);createtablecustomers_americaspartition of customersforvaluesin ('US', 'CANADA');createtablecustomers_asiapartition of customersforvaluesin ('INDIA', 'CHINA', 'JAPAN');

```

### Hash partitioning[#](https://supabase.com/docs/guides/database/partitions#hash-partitioning)
You can use hash partitioning to evenly distribute data.
In this example, the **`products`**table is partitioned into two partitions:`products_one` and `products_two`. The data is distributed across these partitions using a hash function:
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
createtableproducts (  id bigintgeneratedbydefaultasidentity,nametext,  category text,  price bigint)partitionbyhash (id);createtableproducts_onepartition of productsforvalueswith (modulus 2, remainder 1);createtableproducts_twopartition of productsforvalueswith (modulus 2, remainder 0);

```

## Other tools[#](https://supabase.com/docs/guides/database/partitions#other-tools)
There are several other tools available for Postgres partitioning, most notably [pg_partman](https://github.com/pgpartman/pg_partman). Native partitioning was introduced in Postgres 10 and is generally thought to have better performance.
[Edit this page on GitHub ](https://github.com/supabase/supabase/blob/master/apps/docs/content/guides/database/partitions.mdx)
### Is this helpful?
No Yes
### On this page
[Benefits of table partitioning](https://supabase.com/docs/guides/database/partitions#benefits-of-table-partitioning)[Partitioning methods](https://supabase.com/docs/guides/database/partitions#partitioning-methods)[Creating partitioned tables](https://supabase.com/docs/guides/database/partitions#creating-partitioned-tables)[Querying partitioned tables](https://supabase.com/docs/guides/database/partitions#querying-partitioned-tables)[Querying the parent table](https://supabase.com/docs/guides/database/partitions#querying-the-parent-table)[Querying specific partitions](https://supabase.com/docs/guides/database/partitions#querying-specific-partitions)[When to partition your tables](https://supabase.com/docs/guides/database/partitions#when-to-partition-your-tables)[Examples](https://supabase.com/docs/guides/database/partitions#examples)[Range partitioning](https://supabase.com/docs/guides/database/partitions#range-partitioning)[List partitioning](https://supabase.com/docs/guides/database/partitions#list-partitioning)[Hash partitioning](https://supabase.com/docs/guides/database/partitions#hash-partitioning)[Other tools](https://supabase.com/docs/guides/database/partitions#other-tools)
  * Need some help?
[Contact support](https://supabase.com/support)
  * Latest product updates?
[See Changelog](https://supabase.com/changelog)
  * Something's not right?
[Check system status](https://status.supabase.com/)


[© Supabase Inc](https://supabase.com/)—[Contributing](https://github.com/supabase/supabase/blob/master/apps/docs/DEVELOPERS.md)[Author Styleguide](https://github.com/supabase/supabase/blob/master/apps/docs/CONTRIBUTING.md)[Open Source](https://supabase.com/open-source)[SupaSquad](https://supabase.com/supasquad)Privacy Settings
[GitHub](https://github.com/supabase/supabase)[Twitter](https://twitter.com/supabase)[Discord](https://discord.supabase.com/)
  1. We use cookies to collect data and improve our services. [Learn more](https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services)
[Learn more](https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services)•Privacy settings
Accept Opt out Privacy settings



