---
url: https://supabase.com/docs/guides/database/extensions/wrappers/snowflake
scraped_at: 2025-05-25T09:31:54.600487
title: Snowflake | Supabase Docs
---

[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
  * [Start](https://supabase.com/docs/guides/getting-started)
  * Products 
  * Build 
  * Manage 
  * Reference 
  * Resources 


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
Search docs...
K
[Sign up](https://supabase.com/dashboard)
Main menu
[Database](https://supabase.com/docs/guides/database/overview)
  * [Overview](https://supabase.com/docs/guides/database/overview)
Fundamentals
  * [Connecting to your database](https://supabase.com/docs/guides/database/connecting-to-postgres)
  * [Importing data](https://supabase.com/docs/guides/database/import-data)
  * [Securing your data](https://supabase.com/docs/guides/database/secure-data)
Working with your database (basics)
  * [Managing tables, views, and data](https://supabase.com/docs/guides/database/tables)
  * [Working with arrays](https://supabase.com/docs/guides/database/arrays)
  * [Managing indexes](https://supabase.com/docs/guides/database/postgres/indexes)
  * [Querying joins and nested tables](https://supabase.com/docs/guides/database/joins-and-nesting)
  * [JSON and unstructured data](https://supabase.com/docs/guides/database/json)
Working with your database (intermediate)
  * [Implementing cascade deletes](https://supabase.com/docs/guides/database/postgres/cascade-deletes)
  * [Managing enums](https://supabase.com/docs/guides/database/postgres/enums)
  * [Managing database functions](https://supabase.com/docs/guides/database/functions)
  * [Managing database triggers](https://supabase.com/docs/guides/database/postgres/triggers)
  * [Managing database webhooks](https://supabase.com/docs/guides/database/webhooks)
  * [Using Full Text Search](https://supabase.com/docs/guides/database/full-text-search)
  * [Partitioning your tables](https://supabase.com/docs/guides/database/partitions)
  * [Managing connections](https://supabase.com/docs/guides/database/connection-management)
OrioleDB
  * [Overview](https://supabase.com/docs/guides/database/orioledb)
Access and security
  * [Row Level Security](https://supabase.com/docs/guides/database/postgres/row-level-security)
  * [Column Level Security](https://supabase.com/docs/guides/database/postgres/column-level-security)
  * [Hardening the Data API](https://supabase.com/docs/guides/database/hardening-data-api)
  * [Custom Claims & RBAC](https://supabase.com/docs/guides/database/postgres/custom-claims-and-role-based-access-control-rbac)
  * [Managing Postgres Roles](https://supabase.com/docs/guides/database/postgres/roles)
  * [Using Custom Postgres Roles](https://supabase.com/docs/guides/storage/schema/custom-roles)
  * [Managing secrets with Vault](https://supabase.com/docs/guides/database/vault)
  * [Superuser Access and Unsupported Operations](https://supabase.com/docs/guides/database/postgres/roles-superuser)
Configuration, optimization, and testing
  * [Database configuration](https://supabase.com/docs/guides/database/postgres/configuration)
  * [Managing database replication](https://supabase.com/docs/guides/database/replication)
  * [Query optimization](https://supabase.com/docs/guides/database/query-optimization)
  * [Database Advisors](https://supabase.com/docs/guides/database/database-advisors)
  * [Testing your database](https://supabase.com/docs/guides/database/testing)
  * [Customizing Postgres config](https://supabase.com/docs/guides/database/custom-postgres-config)
Debugging
  * [Timeouts](https://supabase.com/docs/guides/database/postgres/timeouts)
  * [Debugging and monitoring](https://supabase.com/docs/guides/database/inspect)
  * [Debugging performance issues](https://supabase.com/docs/guides/database/debugging-performance)
  * [Supavisor](https://supabase.com/docs/guides/database/supavisor)
ORM Quickstarts
  * [Prisma](https://supabase.com/docs/guides/database/prisma)
  * [Drizzle](https://supabase.com/docs/guides/database/drizzle)
  * [Postgres.js](https://supabase.com/docs/guides/database/postgres-js)
GUI quickstarts
  * [pgAdmin](https://supabase.com/docs/guides/database/pgadmin)
  * [PSQL](https://supabase.com/docs/guides/database/psql)
  * [DBeaver](https://supabase.com/docs/guides/database/dbeaver)
  * [Metabase](https://supabase.com/docs/guides/database/metabase)
  * [Beekeeper Studio](https://supabase.com/docs/guides/database/beekeeper-studio)
Extensions
  * [Overview](https://supabase.com/docs/guides/database/extensions)
  * [HypoPG: Hypothetical indexes](https://supabase.com/docs/guides/database/extensions/hypopg)
  * [plv8: Javascript Language](https://supabase.com/docs/guides/database/extensions/plv8)
  * [http: RESTful Client](https://supabase.com/docs/guides/database/extensions/http)
  * [index_advisor: Query optimization](https://supabase.com/docs/guides/database/extensions/index_advisor)
  * [PGAudit: Postgres Auditing](https://supabase.com/docs/guides/database/extensions/pgaudit)
  * [pgjwt: JSON Web Tokens](https://supabase.com/docs/guides/database/extensions/pgjwt)
  * [PGroonga: Multilingual Full Text Search](https://supabase.com/docs/guides/database/extensions/pgroonga)
  * [pgRouting: Geospatial Routing](https://supabase.com/docs/guides/database/extensions/pgrouting)
  * [pg_cron: Schedule Recurring Jobs](https://supabase.com/docs/guides/database/extensions/pg_cron)
  * [pg_graphql: GraphQL Support](https://supabase.com/docs/guides/database/extensions/pg_graphql)
  * [pg_hashids: Short UIDs](https://supabase.com/docs/guides/database/extensions/pg_hashids)
  * [pg_jsonschema: JSON Schema Validation](https://supabase.com/docs/guides/database/extensions/pg_jsonschema)
  * [pg_net: Async Networking](https://supabase.com/docs/guides/database/extensions/pg_net)
  * [pg_plan_filter: Restrict Total Cost](https://supabase.com/docs/guides/database/extensions/pg_plan_filter)
  * [postgres_fdw: query data from an external Postgres server](https://supabase.com/docs/guides/database/extensions/postgres_fdw)
  * [pgvector: Embeddings and vector similarity](https://supabase.com/docs/guides/database/extensions/pgvector)
  * [pg_stat_statements: SQL Planning and Execution Statistics](https://supabase.com/docs/guides/database/extensions/pg_stat_statements)
  * [pg_repack: Storage Optimization](https://supabase.com/docs/guides/database/extensions/pg_repack)
  * [PostGIS: Geo queries](https://supabase.com/docs/guides/database/extensions/postgis)
  * [pgmq: Queues](https://supabase.com/docs/guides/database/extensions/pgmq)
  * [pgsodium (pending deprecation): Encryption Features](https://supabase.com/docs/guides/database/extensions/pgsodium)
  * [pgTAP: Unit Testing](https://supabase.com/docs/guides/database/extensions/pgtap)
  * [plpgsql_check: PL/pgSQL Linter](https://supabase.com/docs/guides/database/extensions/plpgsql_check)
  * [timescaledb: Time-series data](https://supabase.com/docs/guides/database/extensions/timescaledb)
  * [uuid-ossp: Unique Identifiers](https://supabase.com/docs/guides/database/extensions/uuid-ossp)
  * [RUM: inverted index for full-text search](https://supabase.com/docs/guides/database/extensions/rum)
Foreign Data Wrappers
  * [Overview](https://supabase.com/docs/guides/database/extensions/wrappers/overview)
  * [Connecting to Auth0](https://supabase.com/docs/guides/database/extensions/wrappers/auth0)
  * [Connecting to Airtable](https://supabase.com/docs/guides/database/extensions/wrappers/airtable)
  * [Connecting to AWS Cognito](https://supabase.com/docs/guides/database/extensions/wrappers/cognito)
  * [Connecting to AWS S3](https://supabase.com/docs/guides/database/extensions/wrappers/s3)
  * [Connecting to BigQuery](https://supabase.com/docs/guides/database/extensions/wrappers/bigquery)
  * [Connecting to Clerk](https://supabase.com/docs/guides/database/extensions/wrappers/clerk)
  * [Connecting to ClickHouse](https://supabase.com/docs/guides/database/extensions/wrappers/clickhouse)
  * [Connecting to Firebase](https://supabase.com/docs/guides/database/extensions/wrappers/firebase)
  * [Connecting to Logflare](https://supabase.com/docs/guides/database/extensions/wrappers/logflare)
  * [Connecting to MSSQL](https://supabase.com/docs/guides/database/extensions/wrappers/mssql)
  * [Connecting to Notion](https://supabase.com/docs/guides/database/extensions/wrappers/notion)
  * [Connecting to Paddle](https://supabase.com/docs/guides/database/extensions/wrappers/paddle)
  * [Connecting to Redis](https://supabase.com/docs/guides/database/extensions/wrappers/redis)
  * [Connecting to Snowflake](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake)
  * [Connecting to Stripe](https://supabase.com/docs/guides/database/extensions/wrappers/stripe)
Examples
  * [Drop All Tables in Schema](https://supabase.com/docs/guides/database/postgres/dropping-all-tables-in-schema)
  * [Select First Row per Group](https://supabase.com/docs/guides/database/postgres/first-row-in-group)
  * [Print PostgreSQL Version](https://supabase.com/docs/guides/database/postgres/which-version-of-postgres)
  * [Replicating from Supabase to External Postgres](https://supabase.com/docs/guides/database/postgres/setup-replication-external)


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
  * [Start](https://supabase.com/docs/guides/getting-started)
  * Products 
  * Build 
  * Manage 
  * Reference 
  * Resources 


[![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-dark.svg&w=256&q=75)![Supabase wordmark](https://supabase.com/docs/_next/image?url=%2Fdocs%2Fsupabase-light.svg&w=256&q=75)DOCS](https://supabase.com/docs)
Search docs...
K
[Sign up](https://supabase.com/dashboard)
Database
  1. [Database](https://supabase.com/docs/guides/database/overview)
  2. Foreign Data Wrappers
  3. [Connecting to Snowflake](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake)


Snowflake
[Snowflake](https://www.snowflake.com) is a cloud-based data platform provided as a DaaS (Data-as-a-Service) solution with data storage and analytics service.
The Snowflake Wrapper is a WebAssembly(Wasm) foreign data wrapper which allows you to read and write data from Snowflake within your Postgres database.
## Available Versions[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#available-versions)
Version| Wasm Package URL| Checksum  
---|---|---  
0.1.1| `https://github.com/supabase/wrappers/releases/download/wasm_snowflake_fdw_v0.1.1/snowflake_fdw.wasm`| `7aaafc7edc1726bc93ddc04452d41bda9e1a264a1df2ea9bf1b00b267543b860`  
0.1.0| `https://github.com/supabase/wrappers/releases/download/wasm_snowflake_fdw_v0.1.0/snowflake_fdw.wasm`| `2fb46fd8afa63f3975dadf772338106b609b131861849356e0c09dde032d1af8`  
## Preparation[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#preparation)
Before you can query Snowflake, you need to enable the Wrappers extension and store your credentials in Postgres.
### Enable Wrappers[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#enable-wrappers)
Make sure the `wrappers` extension is installed on your database:
```

1
create extension ifnotexists wrappers withschema extensions;

```

### Enable the Snowflake Wrapper[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#enable-the-snowflake-wrapper)
Enable the Wasm foreign data wrapper:
```

1
2
3
create foreign data wrapper wasm_wrapper handler wasm_fdw_handler validator wasm_fdw_validator;

```

### Store your credentials (optional)[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#store-your-credentials-optional)
By default, Postgres stores FDW credentials inside `pg_catalog.pg_foreign_server` in plain text. Anyone with access to this table will be able to view these credentials. Wrappers is designed to work with [Vault](https://supabase.com/docs/guides/database/vault), which provides an additional level of security for storing credentials. We recommend using Vault to store your credentials.
This FDW uses key-pair authentication to access Snowflake SQL Rest API, please refer to [Snowflake docs](https://docs.snowflake.com/en/developer-guide/sql-api/authenticating#label-sql-api-authenticating-key-pair) for more details about the key-pair authentication.
```

1
2
3
4
5
6
-- Save your Snowflake private key in Vault and retrieve the created `key_id`selectvault.create_secret( E'-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----','snowflake','Snowflake private key for Wrappers');

```

### Connecting to Snowflake[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#connecting-to-snowflake)
We need to provide Postgres with the credentials to connect to Snowflake, and any additional options. We can do this using the `create server` command:
With VaultWithout Vault
```

1
2
3
4
5
6
7
8
9
10
11
12
createserver snowflake_server foreign data wrapper wasm_wrapper options (  fdw_package_url 'https://github.com/supabase/wrappers/releases/download/wasm_snowflake_fdw_v0.1.1/snowflake_fdw.wasm',  fdw_package_name 'supabase:snowflake-fdw',  fdw_package_version '0.1.1',  fdw_package_checksum '7aaafc7edc1726bc93ddc04452d41bda9e1a264a1df2ea9bf1b00b267543b860',  account_identifier 'MYORGANIZATION-MYACCOUNT',  user 'MYUSER',  public_key_fingerprint 'SizgPofeFX0jwC8IhbOfGFyOggFgo8oTOS1uPLZhzUQ=',  private_key_id '<key_ID>'-- The Key ID from above. );

```

Note the `fdw_package_*` options are required, which specify the Wasm package metadata. You can get the available package version list from [above](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#available-versions).
### Create a schema[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#create-a-schema)
We recommend creating a schema to hold all the foreign tables:
```

1
createschemaifnotexists snowflake;

```

## Options[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#options)
The full list of foreign table options are below:
  * `table` - Source table or view name in Snowflake, required.
This option can also be a subquery enclosed in parentheses.
  * `rowid_column` - Primary key column name, optional for data scan, required for data modify


## Entities[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#entities)
### Snowflake Tables/Views[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#snowflake-tablesviews)
This is an object representing a Snowflake table or view.
Ref: [Snowflake docs](https://docs.snowflake.com/en/sql-reference/sql/create-table)
#### Operations[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#operations)
Object| Select| Insert| Update| Delete| Truncate  
---|---|---|---|---|---  
table/view| ✅| ✅| ✅| ✅| ❌  
#### Usage[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#usage)
```

1
2
3
4
5
6
7
8
9
10
11
12
create foreign tablesnowflake.mytable ( id bigint,nametext, num numeric, dt date, ts timestamp)server snowflake_server options (table'mydatabase.public.mytable',  rowid_column 'id' );

```

#### Notes[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#notes)
  * Supports both tables and views as data sources
  * Can use subqueries in `table` option
  * Requires `rowid_column` for data modification operations
  * Supports query pushdown for `where`, `order by`, and `limit` clauses
  * Column names must match between Snowflake and foreign table
  * Data types must be compatible according to type mapping table


## Query Pushdown Support[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#query-pushdown-support)
This FDW supports `where`, `order by` and `limit` clause pushdown.
## Supported Data Types[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#supported-data-types)
Postgres Data Type| Snowflake Data Type  
---|---  
boolean| BOOLEAN  
smallint| SMALLINT  
integer| INT  
bigint| BIGINT  
real| FLOAT4  
double precision| FLOAT8  
numeric| NUMBER  
text| VARCHAR  
date| DATE  
timestamp| TIMESTAMP_NTZ  
timestamptz| TIMESTAMP_TZ  
## Limitations[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#limitations)
This section describes important limitations and considerations when using this FDW:
  * Large result sets may experience slower performance due to full data transfer requirement
  * Column names must exactly match between Snowflake and foreign table
  * Foreign tables with subquery option cannot support data modify
  * Materialized views using these foreign tables may fail during logical backups


## Examples[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#examples)
### Basic Example[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#basic-example)
Let's prepare the source table in Snowflake first:
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
-- Create a databasecreatedatabaseifnotexists mydatabase;-- Run below SQLs on Snowflake to create source tablecreatetablemydatabase.public.mytable ( id number(38,0),namevarchar(16777216), num number(38,6), dt date, ts timestamp_ntz(9));-- Add some test datainsert intomydatabase.public.mytable(id, name, num, dt, ts)values (42, 'foo', 12.34, '2024-05-18', '2024-05-18 12:34:56');insert intomydatabase.public.mytable(id, name, num, dt, ts)values (43, 'bar', 56.78, '2024-05-19', '2024-05-19 12:34:56');

```

This example will create a "foreign table" inside your Postgres database and query its data.
```

1
2
3
4
5
6
7
8
9
10
11
12
13
14
create foreign tablesnowflake.mytable ( id bigint,nametext, num numeric, dt date, ts timestamp)server snowflake_server options (table'mydatabase.public.mytable',  rowid_column 'id' );select*fromsnowflake.mytable;

```

### Data Modify Example[#](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#data-modify-example)
This example will modify data in a "foreign table" inside your Postgres database, note that `rowid_column` option is required for data modify:
```

1
2
3
4
5
6
7
8
9
10
11
12
-- insert new datainsert intosnowflake.mytable (id, name, num, dt, ts)values (42, 'hello', 456.123, '2024-05-20', '2024-05-20 12:34:56');-- update existing dataupdatesnowflake.mytablesetname='new name', num =null, dt ='2024-01-01', ts ='2024-01-02 21:43:56'where id =42;-- delete datadeletefromsnowflake.mytablewhere id =42;

```

[Edit this page on GitHub ](https://github.com/supabase/wrappers/blob/docs_v0.4.6-1/docs/catalog/snowflake.md)
### Is this helpful?
No Yes
### On this page
[Available Versions](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#available-versions)[Preparation](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#preparation)[Enable Wrappers](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#enable-wrappers)[Enable the Snowflake Wrapper](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#enable-the-snowflake-wrapper)[Store your credentials (optional)](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#store-your-credentials-optional)[Connecting to Snowflake](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#connecting-to-snowflake)[Create a schema](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#create-a-schema)[Options](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#options)[Entities](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#entities)[Snowflake Tables/Views](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#snowflake-tablesviews)[Query Pushdown Support](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#query-pushdown-support)[Supported Data Types](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#supported-data-types)[Limitations](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#limitations)[Examples](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#examples)[Basic Example](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#basic-example)[Data Modify Example](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake#data-modify-example)
  * Need some help?
[Contact support](https://supabase.com/support)
  * Latest product updates?
[See Changelog](https://supabase.com/changelog)
  * Something's not right?
[Check system status](https://status.supabase.com/)


[© Supabase Inc](https://supabase.com/)—[Contributing](https://github.com/supabase/supabase/blob/master/apps/docs/DEVELOPERS.md)[Author Styleguide](https://github.com/supabase/supabase/blob/master/apps/docs/CONTRIBUTING.md)[Open Source](https://supabase.com/open-source)[SupaSquad](https://supabase.com/supasquad)Privacy Settings
[GitHub](https://github.com/supabase/supabase)[Twitter](https://twitter.com/supabase)[Discord](https://discord.supabase.com/)
  1. We use cookies to collect data and improve our services. [Learn more](https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services)
[Learn more](https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services)•Privacy settings
Accept Opt out Privacy settings



